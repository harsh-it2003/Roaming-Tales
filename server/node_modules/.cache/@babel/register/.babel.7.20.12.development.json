{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"filename\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _userRoutes = _interopRequireDefault(require(\"./routing/user-routes\"));\nvar _postRouter = _interopRequireDefault(require(\"./routing/post-router\"));\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst app = (0, _express.default)();\n_dotenv.default.config();\nconst Port = process.env.Port || 5000;\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use(\"/user\", _userRoutes.default);\napp.use(\"/posts\", _postRouter.default);\n_mongoose.default.set('strictQuery', false);\n_mongoose.default.connect(process.env.MONGO_URL).then(() => app.listen(Port, () => console.log('Connection successful & listening to the port 5000'))).catch(err => console.log(err));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcHAiLCJleHByZXNzIiwiZG90ZW52IiwiY29uZmlnIiwiUG9ydCIsInByb2Nlc3MiLCJlbnYiLCJ1c2UiLCJjb3JzIiwianNvbiIsInVzZXJSb3V0ZXIiLCJwb3N0Um91dGVyIiwibW9uZ29vc2UiLCJzZXQiLCJjb25uZWN0IiwiTU9OR09fVVJMIiwidGhlbiIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVyciJdLCJzb3VyY2VSb290IjoiRDpcXEVudGlyZSBNZXJuIFN0YWNrIFByb2plY3QgZ2l0aHViXFxNRVJOLVRyYXZlbC1EaWFyaWVzLWJhY2tlbmRcXHN0YXJ0aW5nLWFwcFxcYmFja2VuZFxcIiwic291cmNlcyI6WyJhcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IHVzZXJSb3V0ZXIgZnJvbSAnLi9yb3V0aW5nL3VzZXItcm91dGVzJztcbmltcG9ydCBwb3N0Um91dGVyIGZyb20gJy4vcm91dGluZy9wb3N0LXJvdXRlcic7XG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuZG90ZW52LmNvbmZpZygpO1xuY29uc3QgUG9ydD1wcm9jZXNzLmVudi5Qb3J0IHx8IDUwMDA7XG5cbmFwcC51c2UoY29ycygpKTtcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuYXBwLnVzZShcIi91c2VyXCIsdXNlclJvdXRlcik7XG5hcHAudXNlKFwiL3Bvc3RzXCIscG9zdFJvdXRlcik7XG5cblxubW9uZ29vc2Uuc2V0KCdzdHJpY3RRdWVyeScsIGZhbHNlKTtcbm1vbmdvb3NlLmNvbm5lY3QocHJvY2Vzcy5lbnYuTU9OR09fVVJMKVxuICAudGhlbigoKSA9PiBhcHAubGlzdGVuKFBvcnQsICgpID0+IGNvbnNvbGUubG9nKCdDb25uZWN0aW9uIHN1Y2Nlc3NmdWwgJiBsaXN0ZW5pbmcgdG8gdGhlIHBvcnQgNTAwMCcpKSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUF3QjtBQUV4QixNQUFNQSxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sR0FBRTtBQUNyQkMsZUFBTSxDQUFDQyxNQUFNLEVBQUU7QUFDZixNQUFNQyxJQUFJLEdBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixJQUFJLElBQUksSUFBSTtBQUVuQ0osR0FBRyxDQUFDTyxHQUFHLENBQUMsSUFBQUMsYUFBSSxHQUFFLENBQUM7QUFDZlIsR0FBRyxDQUFDTyxHQUFHLENBQUNOLGdCQUFPLENBQUNRLElBQUksRUFBRSxDQUFDO0FBQ3ZCVCxHQUFHLENBQUNPLEdBQUcsQ0FBQyxPQUFPLEVBQUNHLG1CQUFVLENBQUM7QUFDM0JWLEdBQUcsQ0FBQ08sR0FBRyxDQUFDLFFBQVEsRUFBQ0ksbUJBQVUsQ0FBQztBQUc1QkMsaUJBQVEsQ0FBQ0MsR0FBRyxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUM7QUFDbENELGlCQUFRLENBQUNFLE9BQU8sQ0FBQ1QsT0FBTyxDQUFDQyxHQUFHLENBQUNTLFNBQVMsQ0FBQyxDQUNwQ0MsSUFBSSxDQUFDLE1BQU1oQixHQUFHLENBQUNpQixNQUFNLENBQUNiLElBQUksRUFBRSxNQUFNYyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxvREFBb0QsQ0FBQyxDQUFDLENBQUMsQ0FDckdDLEtBQUssQ0FBRUMsR0FBRyxJQUFLSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLENBQUMifQ==","map":{"version":3,"names":["app","express","dotenv","config","Port","process","env","use","cors","json","userRouter","postRouter","mongoose","set","connect","MONGO_URL","then","listen","console","log","catch","err"],"sourceRoot":"D:\\Entire Mern Stack Project github\\MERN-Travel-Diaries-backend\\starting-app\\backend\\","sources":["app.js"],"sourcesContent":["import express from 'express';\nimport mongoose from 'mongoose';\nimport userRouter from './routing/user-routes';\nimport postRouter from './routing/post-router';\nimport dotenv from 'dotenv';\nimport cors from 'cors';\n\nconst app = express();\ndotenv.config();\nconst Port=process.env.Port || 5000;\n\napp.use(cors());\napp.use(express.json());\napp.use(\"/user\",userRouter);\napp.use(\"/posts\",postRouter);\n\n\nmongoose.set('strictQuery', false);\nmongoose.connect(process.env.MONGO_URL)\n  .then(() => app.listen(Port, () => console.log('Connection successful & listening to the port 5000')))\n  .catch((err) => console.log(err));\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AAAwB;AAExB,MAAMA,GAAG,GAAG,IAAAC,gBAAO,GAAE;AACrBC,eAAM,CAACC,MAAM,EAAE;AACf,MAAMC,IAAI,GAACC,OAAO,CAACC,GAAG,CAACF,IAAI,IAAI,IAAI;AAEnCJ,GAAG,CAACO,GAAG,CAAC,IAAAC,aAAI,GAAE,CAAC;AACfR,GAAG,CAACO,GAAG,CAACN,gBAAO,CAACQ,IAAI,EAAE,CAAC;AACvBT,GAAG,CAACO,GAAG,CAAC,OAAO,EAACG,mBAAU,CAAC;AAC3BV,GAAG,CAACO,GAAG,CAAC,QAAQ,EAACI,mBAAU,CAAC;AAG5BC,iBAAQ,CAACC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;AAClCD,iBAAQ,CAACE,OAAO,CAACT,OAAO,CAACC,GAAG,CAACS,SAAS,CAAC,CACpCC,IAAI,CAAC,MAAMhB,GAAG,CAACiB,MAAM,CAACb,IAAI,EAAE,MAAMc,OAAO,CAACC,GAAG,CAAC,oDAAoD,CAAC,CAAC,CAAC,CACrGC,KAAK,CAAEC,GAAG,IAAKH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC"}},"mtime":1675604189277},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\routing\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"filename\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\routing\\\\user-routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _userControllers = require(\"../controllers/user-controllers\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// validation is to be put in here\n\nconst userRouter = (0, _express.default)();\nuserRouter.get(\"/\", _userControllers.getAllUsers);\nuserRouter.get(\"/:id\", _userControllers.getUserById);\nuserRouter.post(\"/signup\", _userControllers.signup);\nuserRouter.post(\"/login\", _userControllers.login);\nuserRouter.delete(\"/:id\", _userControllers.deleteUser);\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyUm91dGVyIiwiUm91dGVyIiwiZ2V0IiwiZ2V0QWxsVXNlcnMiLCJnZXRVc2VyQnlJZCIsInBvc3QiLCJzaWdudXAiLCJsb2dpbiIsImRlbGV0ZSIsImRlbGV0ZVVzZXIiXSwic291cmNlUm9vdCI6IkQ6XFxFbnRpcmUgTWVybiBTdGFjayBQcm9qZWN0IGdpdGh1YlxcTUVSTi1UcmF2ZWwtRGlhcmllcy1iYWNrZW5kXFxzdGFydGluZy1hcHBcXGJhY2tlbmRcXHJvdXRpbmdcXCIsInNvdXJjZXMiOlsidXNlci1yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvdXRlciBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHsgZ2V0QWxsVXNlcnMsIHNpZ251cCwgbG9naW4sIGRlbGV0ZVVzZXIsIGdldFVzZXJCeUlkfSBmcm9tICcuLi9jb250cm9sbGVycy91c2VyLWNvbnRyb2xsZXJzJztcclxuXHJcbi8vIHZhbGlkYXRpb24gaXMgdG8gYmUgcHV0IGluIGhlcmVcclxuXHJcbmNvbnN0IHVzZXJSb3V0ZXI9Um91dGVyKCk7XHJcblxyXG51c2VyUm91dGVyLmdldChcIi9cIiwgZ2V0QWxsVXNlcnMpO1xyXG51c2VyUm91dGVyLmdldChcIi86aWRcIiwgZ2V0VXNlckJ5SWQpO1xyXG51c2VyUm91dGVyLnBvc3QoXCIvc2lnbnVwXCIsIHNpZ251cCk7XHJcbnVzZXJSb3V0ZXIucG9zdChcIi9sb2dpblwiLCBsb2dpbik7XHJcbnVzZXJSb3V0ZXIuZGVsZXRlKFwiLzppZFwiLGRlbGV0ZVVzZXIpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlclJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFBcUc7QUFFckc7O0FBRUEsTUFBTUEsVUFBVSxHQUFDLElBQUFDLGdCQUFNLEdBQUU7QUFFekJELFVBQVUsQ0FBQ0UsR0FBRyxDQUFDLEdBQUcsRUFBRUMsNEJBQVcsQ0FBQztBQUNoQ0gsVUFBVSxDQUFDRSxHQUFHLENBQUMsTUFBTSxFQUFFRSw0QkFBVyxDQUFDO0FBQ25DSixVQUFVLENBQUNLLElBQUksQ0FBQyxTQUFTLEVBQUVDLHVCQUFNLENBQUM7QUFDbENOLFVBQVUsQ0FBQ0ssSUFBSSxDQUFDLFFBQVEsRUFBRUUsc0JBQUssQ0FBQztBQUNoQ1AsVUFBVSxDQUFDUSxNQUFNLENBQUMsTUFBTSxFQUFDQywyQkFBVSxDQUFDO0FBQUMsZUFFdEJULFVBQVU7QUFBQSJ9","map":{"version":3,"names":["userRouter","Router","get","getAllUsers","getUserById","post","signup","login","delete","deleteUser"],"sourceRoot":"D:\\Entire Mern Stack Project github\\MERN-Travel-Diaries-backend\\starting-app\\backend\\routing\\","sources":["user-routes.js"],"sourcesContent":["import Router from 'express';\r\nimport { getAllUsers, signup, login, deleteUser, getUserById} from '../controllers/user-controllers';\r\n\r\n// validation is to be put in here\r\n\r\nconst userRouter=Router();\r\n\r\nuserRouter.get(\"/\", getAllUsers);\r\nuserRouter.get(\"/:id\", getUserById);\r\nuserRouter.post(\"/signup\", signup);\r\nuserRouter.post(\"/login\", login);\r\nuserRouter.delete(\"/:id\",deleteUser);\r\n\r\nexport default userRouter;"],"mappings":";;;;;;AAAA;AACA;AAAqG;AAErG;;AAEA,MAAMA,UAAU,GAAC,IAAAC,gBAAM,GAAE;AAEzBD,UAAU,CAACE,GAAG,CAAC,GAAG,EAAEC,4BAAW,CAAC;AAChCH,UAAU,CAACE,GAAG,CAAC,MAAM,EAAEE,4BAAW,CAAC;AACnCJ,UAAU,CAACK,IAAI,CAAC,SAAS,EAAEC,uBAAM,CAAC;AAClCN,UAAU,CAACK,IAAI,CAAC,QAAQ,EAAEE,sBAAK,CAAC;AAChCP,UAAU,CAACQ,MAAM,CAAC,MAAM,EAACC,2BAAU,CAAC;AAAC,eAEtBT,UAAU;AAAA"}},"mtime":1675448434903},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"filename\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\controllers\\\\user-controllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _bcryptjs = require(\"bcryptjs\");\nvar _User = _interopRequireDefault(require(\"../models/User\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getAllUsers = async (req, res) => {\n  try {\n    const userDoc = await _User.default.find();\n    return res.status(200).json({\n      userDoc\n    });\n  } catch (err) {\n    console.log(err);\n    return res.status(406).json({\n      message: \"Some error occured\"\n    });\n  }\n  ;\n};\nconst getUserById = async (req, res) => {\n  try {\n    const userId = req.params.id;\n    const user = await _User.default.findById(userId).populate(\"posts\");\n    if (!user) {\n      return res.status(404).json({\n        user\n      });\n    }\n    return res.status(200).json({\n      user\n    });\n  } catch (err) {\n    console.log(err);\n    return res.status(406).json({\n      message: \"Some error occured\"\n    });\n  }\n};\nconst signup = async (req, res) => {\n  try {\n    let {\n      name,\n      email,\n      password\n    } = req.body;\n    if (!name || name.trim().length === 0 || !email || email.trim().length === 0 || !password || password.length < 6) {\n      return res.status(422).json({\n        message: \"Invalid Data\"\n      });\n    }\n    let hashedPassword = (0, _bcryptjs.hashSync)(password);\n    let userDoc = await new _User.default({\n      name,\n      email,\n      password: hashedPassword\n    });\n    await userDoc.save();\n    return res.status(201).json({\n      userDoc\n    });\n  } catch (err) {\n    console.log(err.message);\n    return res.status(406).json({\n      message: err.message\n    });\n  }\n};\nconst login = async (req, res) => {\n  try {\n    const {\n      email,\n      password\n    } = req.body;\n    if (!email || !password || email.trim().length === 0 || password.length < 6) {\n      return res.status(422).json({\n        message: \"Invalid Data\"\n      });\n    }\n    let existingUser = await _User.default.findOne({\n      email\n    });\n    if (!existingUser) {\n      return res.status(404).json({\n        message: \"User not found\"\n      });\n    }\n    let isCorrectPassword = (0, _bcryptjs.compareSync)(password, existingUser.password);\n    if (!isCorrectPassword) {\n      return res.status(400).json({\n        message: \"Incorrect password\"\n      });\n    }\n    return res.status(200).json({\n      _id: existingUser.id,\n      message: \"Login succesful\"\n    });\n  } catch (err) {\n    console.log(err);\n    return res.status(406).json({\n      message: \"Some error occured\"\n    });\n  }\n};\nconst deleteUser = async (req, res) => {\n  try {\n    await _User.default.findByIdAndRemove(req.params.id);\n    return res.status(200).json({\n      message: \"deleted successfully\"\n    });\n  } catch (err) {\n    return console.log(err);\n  }\n};\nmodule.exports = {\n  getAllUsers,\n  signup,\n  login,\n  deleteUser,\n  getUserById\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRBbGxVc2VycyIsInJlcSIsInJlcyIsInVzZXJEb2MiLCJVc2VycyIsImZpbmQiLCJzdGF0dXMiLCJqc29uIiwiZXJyIiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJnZXRVc2VyQnlJZCIsInVzZXJJZCIsInBhcmFtcyIsImlkIiwidXNlciIsImZpbmRCeUlkIiwicG9wdWxhdGUiLCJzaWdudXAiLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsImJvZHkiLCJ0cmltIiwibGVuZ3RoIiwiaGFzaGVkUGFzc3dvcmQiLCJoYXNoU3luYyIsInNhdmUiLCJsb2dpbiIsImV4aXN0aW5nVXNlciIsImZpbmRPbmUiLCJpc0NvcnJlY3RQYXNzd29yZCIsImNvbXBhcmVTeW5jIiwiX2lkIiwiZGVsZXRlVXNlciIsImZpbmRCeUlkQW5kUmVtb3ZlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXEVudGlyZSBNZXJuIFN0YWNrIFByb2plY3QgZ2l0aHViXFxNRVJOLVRyYXZlbC1EaWFyaWVzLWJhY2tlbmRcXHN0YXJ0aW5nLWFwcFxcYmFja2VuZFxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsidXNlci1jb250cm9sbGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21wYXJlU3luYywgaGFzaFN5bmMgfSBmcm9tICdiY3J5cHRqcyc7XHJcbmltcG9ydCBVc2VycyBmcm9tICcuLi9tb2RlbHMvVXNlcic7XHJcblxyXG5cclxuY29uc3QgZ2V0QWxsVXNlcnMgPSBhc3luYyAocmVxLHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB1c2VyRG9jID0gYXdhaXQgVXNlcnMuZmluZCgpO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHVzZXJEb2MgfSk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNikuanNvbih7bWVzc2FnZTpcIlNvbWUgZXJyb3Igb2NjdXJlZFwifSk7XHJcbiAgICB9O1xyXG59XHJcblxyXG5jb25zdCBnZXRVc2VyQnlJZD1hc3luYyAocmVxLHJlcyk9PntcclxuICAgIHRyeXtcclxuICAgICAgICBjb25zdCB1c2VySWQ9cmVxLnBhcmFtcy5pZDtcclxuICAgICAgICBjb25zdCB1c2VyPWF3YWl0IFVzZXJzLmZpbmRCeUlkKHVzZXJJZCkucG9wdWxhdGUoXCJwb3N0c1wiKTtcclxuICAgICAgICBpZighdXNlcil7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7dXNlcn0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe3VzZXJ9KTtcclxuICAgIH1jYXRjaChlcnIpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA2KS5qc29uKHttZXNzYWdlOlwiU29tZSBlcnJvciBvY2N1cmVkXCJ9KTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3Qgc2lnbnVwID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCB7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XHJcbiAgICAgICAgaWYgKCFuYW1lIHx8IG5hbWUudHJpbSgpLmxlbmd0aCA9PT0gMCB8fCAhZW1haWwgfHwgZW1haWwudHJpbSgpLmxlbmd0aCA9PT0gMCB8fCAhcGFzc3dvcmQgfHwgcGFzc3dvcmQubGVuZ3RoPDYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDIyKS5qc29uKHsgbWVzc2FnZTogXCJJbnZhbGlkIERhdGFcIiB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGhhc2hlZFBhc3N3b3JkID0gaGFzaFN5bmMocGFzc3dvcmQpO1xyXG4gICAgICAgIGxldCB1c2VyRG9jID1hd2FpdCBuZXcgVXNlcnMoeyBuYW1lLCBlbWFpbCwgcGFzc3dvcmQ6aGFzaGVkUGFzc3dvcmQgfSk7XHJcbiAgICAgICAgYXdhaXQgdXNlckRvYy5zYXZlKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgdXNlckRvYyB9KTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDYpLmpzb24oe21lc3NhZ2U6ZXJyLm1lc3NhZ2V9KTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbG9naW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xyXG4gICAgICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkIHx8IGVtYWlsLnRyaW0oKS5sZW5ndGggPT09IDAgfHwgcGFzc3dvcmQubGVuZ3RoIDwgNikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MjIpLmpzb24oeyBtZXNzYWdlOiBcIkludmFsaWQgRGF0YVwiIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZXhpc3RpbmdVc2VyID0gYXdhaXQgVXNlcnMuZmluZE9uZSh7IGVtYWlsIH0pO1xyXG4gICAgICAgIGlmICghZXhpc3RpbmdVc2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6IFwiVXNlciBub3QgZm91bmRcIiB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGlzQ29ycmVjdFBhc3N3b3JkID0gY29tcGFyZVN5bmMocGFzc3dvcmQsIGV4aXN0aW5nVXNlci5wYXNzd29yZCk7XHJcbiAgICAgICAgaWYgKCFpc0NvcnJlY3RQYXNzd29yZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIkluY29ycmVjdCBwYXNzd29yZFwiIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IF9pZDogZXhpc3RpbmdVc2VyLmlkLCBtZXNzYWdlOiBcIkxvZ2luIHN1Y2Nlc2Z1bFwiIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDYpLmpzb24oe21lc3NhZ2U6XCJTb21lIGVycm9yIG9jY3VyZWRcIn0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBkZWxldGVVc2VyID0gYXN5bmMocmVxLHJlcyk9PntcclxuICAgIHRyeXtcclxuICAgICAgICBhd2FpdCBVc2Vycy5maW5kQnlJZEFuZFJlbW92ZShyZXEucGFyYW1zLmlkKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6XCJkZWxldGVkIHN1Y2Nlc3NmdWxseVwifSk7XHJcbiAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0geyBnZXRBbGxVc2Vycywgc2lnbnVwLCBsb2dpbixkZWxldGVVc2VyLCBnZXRVc2VyQnlJZH07Il0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFBbUM7QUFHbkMsTUFBTUEsV0FBVyxHQUFHLE9BQU9DLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0VBQ25DLElBQUk7SUFDQSxNQUFNQyxPQUFPLEdBQUcsTUFBTUMsYUFBSyxDQUFDQyxJQUFJLEVBQUU7SUFDbEMsT0FBT0gsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFSjtJQUFRLENBQUMsQ0FBQztFQUM1QyxDQUFDLENBQUMsT0FBT0ssR0FBRyxFQUFF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","map":{"version":3,"names":["getAllUsers","req","res","userDoc","Users","find","status","json","err","console","log","message","getUserById","userId","params","id","user","findById","populate","signup","name","email","password","body","trim","length","hashedPassword","hashSync","save","login","existingUser","findOne","isCorrectPassword","compareSync","_id","deleteUser","findByIdAndRemove","module","exports"],"sourceRoot":"D:\\Entire Mern Stack Project github\\MERN-Travel-Diaries-backend\\starting-app\\backend\\controllers\\","sources":["user-controllers.js"],"sourcesContent":["import { compareSync, hashSync } from 'bcryptjs';\r\nimport Users from '../models/User';\r\n\r\n\r\nconst getAllUsers = async (req,res) => {\r\n    try {\r\n        const userDoc = await Users.find();\r\n        return res.status(200).json({ userDoc });\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(406).json({message:\"Some error occured\"});\r\n    };\r\n}\r\n\r\nconst getUserById=async (req,res)=>{\r\n    try{\r\n        const userId=req.params.id;\r\n        const user=await Users.findById(userId).populate(\"posts\");\r\n        if(!user){\r\n            return res.status(404).json({user});\r\n        }\r\n        return res.status(200).json({user});\r\n    }catch(err){\r\n        console.log(err);\r\n        return res.status(406).json({message:\"Some error occured\"});\r\n    }\r\n}\r\n\r\nconst signup = async (req, res) => {\r\n    try {\r\n        let { name, email, password } = req.body;\r\n        if (!name || name.trim().length === 0 || !email || email.trim().length === 0 || !password || password.length<6) {\r\n            return res.status(422).json({ message: \"Invalid Data\" });\r\n        }\r\n        let hashedPassword = hashSync(password);\r\n        let userDoc =await new Users({ name, email, password:hashedPassword });\r\n        await userDoc.save();\r\n        return res.status(201).json({ userDoc });\r\n    } catch (err) {\r\n        console.log(err.message);\r\n        return res.status(406).json({message:err.message});\r\n    }\r\n}\r\n\r\nconst login = async (req, res) => {\r\n    try {\r\n        const { email, password } = req.body;\r\n        if (!email || !password || email.trim().length === 0 || password.length < 6) {\r\n            return res.status(422).json({ message: \"Invalid Data\" });\r\n        }\r\n        let existingUser = await Users.findOne({ email });\r\n        if (!existingUser) {\r\n            return res.status(404).json({ message: \"User not found\" });\r\n        }\r\n        let isCorrectPassword = compareSync(password, existingUser.password);\r\n        if (!isCorrectPassword) {\r\n            return res.status(400).json({ message: \"Incorrect password\" })\r\n        }\r\n        return res.status(200).json({ _id: existingUser.id, message: \"Login succesful\" });\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(406).json({message:\"Some error occured\"});\r\n    }\r\n}\r\n\r\nconst deleteUser = async(req,res)=>{\r\n    try{\r\n        await Users.findByIdAndRemove(req.params.id);\r\n        return res.status(200).json({message:\"deleted successfully\"});\r\n    }catch(err){\r\n        return console.log(err);\r\n    }\r\n}\r\n\r\n\r\nmodule.exports = { getAllUsers, signup, login,deleteUser, getUserById};"],"mappings":"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"}},"mtime":1675582584990},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"filename\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\models\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true,\n    minLength: 5\n  },\n  posts: [{\n    type: _mongoose.default.Types.ObjectId,\n    ref: \"Post\"\n  }]\n});\nconst Users = new _mongoose.default.model('User', userSchema);\nmodule.exports = Users;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsIm1pbkxlbmd0aCIsInBvc3RzIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsIlVzZXJzIiwibW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcRW50aXJlIE1lcm4gU3RhY2sgUHJvamVjdCBnaXRodWJcXE1FUk4tVHJhdmVsLURpYXJpZXMtYmFja2VuZFxcc3RhcnRpbmctYXBwXFxiYWNrZW5kXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCB1c2VyU2NoZW1hPW5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gICAgbmFtZTp7XHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6dHJ1ZSxcclxuICAgIH0sXHJcbiAgICBlbWFpbDp7XHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6dHJ1ZSxcclxuICAgICAgICB1bmlxdWU6dHJ1ZSxcclxuICAgIH0sXHJcbiAgICBwYXNzd29yZDp7XHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6dHJ1ZSxcclxuICAgICAgICBtaW5MZW5ndGg6NSxcclxuICAgIH0sXHJcbiAgICBwb3N0czpbe3R5cGU6bW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQscmVmOlwiUG9zdFwifV1cclxufSk7XHJcblxyXG5jb25zdCBVc2Vycz1uZXcgbW9uZ29vc2UubW9kZWwoJ1VzZXInLHVzZXJTY2hlbWEpO1xyXG5tb2R1bGUuZXhwb3J0cz1Vc2VyczsiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFBZ0M7QUFFaEMsTUFBTUEsVUFBVSxHQUFDLElBQUlDLGlCQUFRLENBQUNDLE1BQU0sQ0FBQztFQUNqQ0MsSUFBSSxFQUFDO0lBQ0RDLElBQUksRUFBQ0MsTUFBTTtJQUNYQyxRQUFRLEVBQUM7RUFDYixDQUFDO0VBQ0RDLEtBQUssRUFBQztJQUNGSCxJQUFJLEVBQUNDLE1BQU07SUFDWEMsUUFBUSxFQUFDLElBQUk7SUFDYkUsTUFBTSxFQUFDO0VBQ1gsQ0FBQztFQUNEQyxRQUFRLEVBQUM7SUFDTEwsSUFBSSxFQUFDQyxNQUFNO0lBQ1hDLFFBQVEsRUFBQyxJQUFJO0lBQ2JJLFNBQVMsRUFBQztFQUNkLENBQUM7RUFDREMsS0FBSyxFQUFDLENBQUM7SUFBQ1AsSUFBSSxFQUFDSCxpQkFBUSxDQUFDVyxLQUFLLENBQUNDLFFBQVE7SUFBQ0MsR0FBRyxFQUFDO0VBQU0sQ0FBQztBQUNwRCxDQUFDLENBQUM7QUFFRixNQUFNQyxLQUFLLEdBQUMsSUFBSWQsaUJBQVEsQ0FBQ2UsS0FBSyxDQUFDLE1BQU0sRUFBQ2hCLFVBQVUsQ0FBQztBQUNqRGlCLE1BQU0sQ0FBQ0MsT0FBTyxHQUFDSCxLQUFLIn0=","map":{"version":3,"names":["userSchema","mongoose","Schema","name","type","String","required","email","unique","password","minLength","posts","Types","ObjectId","ref","Users","model","module","exports"],"sourceRoot":"D:\\Entire Mern Stack Project github\\MERN-Travel-Diaries-backend\\starting-app\\backend\\models\\","sources":["User.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst userSchema=new mongoose.Schema({\r\n    name:{\r\n        type:String,\r\n        required:true,\r\n    },\r\n    email:{\r\n        type:String,\r\n        required:true,\r\n        unique:true,\r\n    },\r\n    password:{\r\n        type:String,\r\n        required:true,\r\n        minLength:5,\r\n    },\r\n    posts:[{type:mongoose.Types.ObjectId,ref:\"Post\"}]\r\n});\r\n\r\nconst Users=new mongoose.model('User',userSchema);\r\nmodule.exports=Users;"],"mappings":";;AAAA;AAAgC;AAEhC,MAAMA,UAAU,GAAC,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACjCC,IAAI,EAAC;IACDC,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC;EACb,CAAC;EACDC,KAAK,EAAC;IACFH,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,IAAI;IACbE,MAAM,EAAC;EACX,CAAC;EACDC,QAAQ,EAAC;IACLL,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,IAAI;IACbI,SAAS,EAAC;EACd,CAAC;EACDC,KAAK,EAAC,CAAC;IAACP,IAAI,EAACH,iBAAQ,CAACW,KAAK,CAACC,QAAQ;IAACC,GAAG,EAAC;EAAM,CAAC;AACpD,CAAC,CAAC;AAEF,MAAMC,KAAK,GAAC,IAAId,iBAAQ,CAACe,KAAK,CAAC,MAAM,EAAChB,UAAU,CAAC;AACjDiB,MAAM,CAACC,OAAO,GAACH,KAAK"}},"mtime":1674823316472},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\routing\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"filename\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\routing\\\\post-router.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _postControllers = require(\"../controllers/post-controllers\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst postRouter = (0, _express.default)();\npostRouter.get(\"/\", _postControllers.getAllPosts);\npostRouter.get(\"/:id\", _postControllers.getPostWithID);\npostRouter.post(\"/\", _postControllers.addAPost);\npostRouter.put(\"/:id\", _postControllers.updatePost);\npostRouter.delete(\"/:id\", _postControllers.deletePost);\nmodule.exports = postRouter;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwb3N0Um91dGVyIiwiUm91dGVyIiwiZ2V0IiwiZ2V0QWxsUG9zdHMiLCJnZXRQb3N0V2l0aElEIiwicG9zdCIsImFkZEFQb3N0IiwicHV0IiwidXBkYXRlUG9zdCIsImRlbGV0ZSIsImRlbGV0ZVBvc3QiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcRW50aXJlIE1lcm4gU3RhY2sgUHJvamVjdCBnaXRodWJcXE1FUk4tVHJhdmVsLURpYXJpZXMtYmFja2VuZFxcc3RhcnRpbmctYXBwXFxiYWNrZW5kXFxyb3V0aW5nXFwiLCJzb3VyY2VzIjpbInBvc3Qtcm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSb3V0ZXIgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7Z2V0QWxsUG9zdHMsYWRkQVBvc3QsIGdldFBvc3RXaXRoSUQsIHVwZGF0ZVBvc3QsZGVsZXRlUG9zdH0gZnJvbSAnLi4vY29udHJvbGxlcnMvcG9zdC1jb250cm9sbGVycydcclxuXHJcbmNvbnN0IHBvc3RSb3V0ZXI9Um91dGVyKCk7XHJcblxyXG5wb3N0Um91dGVyLmdldChcIi9cIixnZXRBbGxQb3N0cyk7XHJcbnBvc3RSb3V0ZXIuZ2V0KFwiLzppZFwiLGdldFBvc3RXaXRoSUQpO1xyXG5wb3N0Um91dGVyLnBvc3QoXCIvXCIsYWRkQVBvc3QpO1xyXG5wb3N0Um91dGVyLnB1dChcIi86aWRcIix1cGRhdGVQb3N0KTtcclxucG9zdFJvdXRlci5kZWxldGUoXCIvOmlkXCIsZGVsZXRlUG9zdCk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cz1wb3N0Um91dGVyO1xyXG5cclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFBMEc7QUFFMUcsTUFBTUEsVUFBVSxHQUFDLElBQUFDLGdCQUFNLEdBQUU7QUFFekJELFVBQVUsQ0FBQ0UsR0FBRyxDQUFDLEdBQUcsRUFBQ0MsNEJBQVcsQ0FBQztBQUMvQkgsVUFBVSxDQUFDRSxHQUFHLENBQUMsTUFBTSxFQUFDRSw4QkFBYSxDQUFDO0FBQ3BDSixVQUFVLENBQUNLLElBQUksQ0FBQyxHQUFHLEVBQUNDLHlCQUFRLENBQUM7QUFDN0JOLFVBQVUsQ0FBQ08sR0FBRyxDQUFDLE1BQU0sRUFBQ0MsMkJBQVUsQ0FBQztBQUNqQ1IsVUFBVSxDQUFDUyxNQUFNLENBQUMsTUFBTSxFQUFDQywyQkFBVSxDQUFDO0FBRXBDQyxNQUFNLENBQUNDLE9BQU8sR0FBQ1osVUFBVSJ9","map":{"version":3,"names":["postRouter","Router","get","getAllPosts","getPostWithID","post","addAPost","put","updatePost","delete","deletePost","module","exports"],"sourceRoot":"D:\\Entire Mern Stack Project github\\MERN-Travel-Diaries-backend\\starting-app\\backend\\routing\\","sources":["post-router.js"],"sourcesContent":["import Router from 'express';\r\nimport {getAllPosts,addAPost, getPostWithID, updatePost,deletePost} from '../controllers/post-controllers'\r\n\r\nconst postRouter=Router();\r\n\r\npostRouter.get(\"/\",getAllPosts);\r\npostRouter.get(\"/:id\",getPostWithID);\r\npostRouter.post(\"/\",addAPost);\r\npostRouter.put(\"/:id\",updatePost);\r\npostRouter.delete(\"/:id\",deletePost);\r\n\r\nmodule.exports=postRouter;\r\n\r\n"],"mappings":";;AAAA;AACA;AAA0G;AAE1G,MAAMA,UAAU,GAAC,IAAAC,gBAAM,GAAE;AAEzBD,UAAU,CAACE,GAAG,CAAC,GAAG,EAACC,4BAAW,CAAC;AAC/BH,UAAU,CAACE,GAAG,CAAC,MAAM,EAACE,8BAAa,CAAC;AACpCJ,UAAU,CAACK,IAAI,CAAC,GAAG,EAACC,yBAAQ,CAAC;AAC7BN,UAAU,CAACO,GAAG,CAAC,MAAM,EAACC,2BAAU,CAAC;AACjCR,UAAU,CAACS,MAAM,CAAC,MAAM,EAACC,2BAAU,CAAC;AAEpCC,MAAM,CAACC,OAAO,GAACZ,UAAU"}},"mtime":1675515753185},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"filename\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\controllers\\\\post-controllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _Post = _interopRequireDefault(require(\"../models/Post\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _User = _interopRequireDefault(require(\"../models/User\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getAllPosts = async (req, res) => {\n  try {\n    let posts = await _Post.default.find().populate(\"user\");\n    return res.status(200).json({\n      posts\n    });\n  } catch (err) {\n    return console.log(err);\n  }\n};\nconst addAPost = async (req, res) => {\n  try {\n    const {\n      title,\n      description,\n      image,\n      location,\n      date,\n      user\n    } = req.body;\n    if (!title || !description || !image || !location || !date || !user || title.trim().length === 0 || description.trim().length === 0 || image.trim().length === 0 || location.trim().length === 0 || date.trim().length === 0 || user.trim().length === 0) {\n      return res.status(422).json({\n        message: \"Invalid data\"\n      });\n    }\n    let existingUser = await _User.default.findById(user);\n    if (!existingUser) {\n      return res.status(404).json({\n        message: \"No such user found\"\n      });\n    }\n    let post = new _Post.default({\n      title,\n      description,\n      image,\n      location,\n      date,\n      user\n    });\n    const session = await _mongoose.default.startSession();\n    session.startTransaction();\n    existingUser.posts.push(post);\n    await existingUser.save({\n      session\n    });\n    post = await post.save({\n      session\n    });\n    session.commitTransaction();\n    return res.status(200).json({\n      post\n    });\n  } catch (err) {\n    console.log(err);\n    return res.status(406).json({\n      message: \"Unexpected error occured\"\n    });\n  }\n};\nconst getPostWithID = async (req, res) => {\n  const _id = req.params.id;\n  let post;\n  try {\n    post = await _Post.default.findById(_id);\n  } catch (err) {\n    return console.log(err);\n  }\n  if (!post) {\n    return res.status(404).json({\n      message: \"No post found\"\n    });\n  }\n  return res.status(200).json({\n    post\n  });\n};\nconst updatePost = async (req, res) => {\n  const id = req.params.id;\n  const {\n    title,\n    description,\n    image,\n    location,\n    date\n  } = req.body;\n  if (!title || !description || !image || !location || !date || title.trim().length === 0 || description.trim().length === 0 || image.trim().length === 0 || location.trim().length === 0 || date.trim().length === 0) {\n    return res.status(422).json({\n      message: \"Invalid data\"\n    });\n  }\n  let post;\n  try {\n    post = await _Post.default.findByIdAndUpdate(id, {\n      title,\n      description,\n      image,\n      location,\n      date\n    });\n    if (!post) {\n      return res.status(500).json({\n        message: \"Unable to update\"\n      });\n    }\n    return res.status(200).json({\n      message: \"updataed succesfully\"\n    });\n  } catch (err) {\n    console.log(err);\n    return res.status(406).json({\n      message: \"Unexpected error occured\"\n    });\n  }\n};\nconst deletePost = async (req, res) => {\n  try {\n    let post;\n    const id = req.params.id;\n    const session = await _mongoose.default.startSession();\n    session.startTransaction();\n    post = await _Post.default.findById(id).populate(\"user\");\n    let ind = post.user.posts.indexOf(id);\n    post.user.posts = post.user.posts.slice(0, ind).concat(post.user.posts.slice(ind + 1));\n    await post.user.save({\n      session\n    });\n    post = await _Post.default.findByIdAndRemove(id);\n    session.commitTransaction();\n    return res.status(200).json({\n      message: \"deleted succesfully\"\n    });\n  } catch (err) {\n    console.log(err);\n    return res.status(406).json({\n      message: \"couldn't delete the post\"\n    });\n  }\n};\nmodule.exports = {\n  getAllPosts,\n  addAPost,\n  getPostWithID,\n  updatePost,\n  deletePost\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRBbGxQb3N0cyIsInJlcSIsInJlcyIsInBvc3RzIiwiUG9zdHMiLCJmaW5kIiwicG9wdWxhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImFkZEFQb3N0IiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImltYWdlIiwibG9jYXRpb24iLCJkYXRlIiwidXNlciIsImJvZHkiLCJ0cmltIiwibGVuZ3RoIiwibWVzc2FnZSIsImV4aXN0aW5nVXNlciIsIlVzZXJzIiwiZmluZEJ5SWQiLCJwb3N0Iiwic2Vzc2lvbiIsIm1vbmdvb3NlIiwic3RhcnRTZXNzaW9uIiwic3RhcnRUcmFuc2FjdGlvbiIsInB1c2giLCJzYXZlIiwiY29tbWl0VHJhbnNhY3Rpb24iLCJnZXRQb3N0V2l0aElEIiwiX2lkIiwicGFyYW1zIiwiaWQiLCJ1cGRhdGVQb3N0IiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJkZWxldGVQb3N0IiwiaW5kIiwiaW5kZXhPZiIsInNsaWNlIiwiY29uY2F0IiwiZmluZEJ5SWRBbmRSZW1vdmUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcRW50aXJlIE1lcm4gU3RhY2sgUHJvamVjdCBnaXRodWJcXE1FUk4tVHJhdmVsLURpYXJpZXMtYmFja2VuZFxcc3RhcnRpbmctYXBwXFxiYWNrZW5kXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJwb3N0LWNvbnRyb2xsZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQb3N0cyBmcm9tICcuLi9tb2RlbHMvUG9zdCc7XHJcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcbmltcG9ydCBVc2VycyBmcm9tICcuLi9tb2RlbHMvVXNlcidcclxuXHJcbmNvbnN0IGdldEFsbFBvc3RzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCBwb3N0cyA9IGF3YWl0IFBvc3RzLmZpbmQoKS5wb3B1bGF0ZShcInVzZXJcIik7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgcG9zdHMgfSk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyKTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgYWRkQVBvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgdGl0bGUsIGRlc2NyaXB0aW9uLCBpbWFnZSwgbG9jYXRpb24sIGRhdGUsIHVzZXIgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICBpZiAoIXRpdGxlIHx8ICFkZXNjcmlwdGlvbiB8fCAhaW1hZ2UgfHwgIWxvY2F0aW9uIHx8ICFkYXRlIHx8ICF1c2VyIHx8IHRpdGxlLnRyaW0oKS5sZW5ndGggPT09IDAgfHwgZGVzY3JpcHRpb24udHJpbSgpLmxlbmd0aCA9PT0gMCB8fCBpbWFnZS50cmltKCkubGVuZ3RoID09PSAwIHx8IGxvY2F0aW9uLnRyaW0oKS5sZW5ndGggPT09IDAgfHwgZGF0ZS50cmltKCkubGVuZ3RoID09PSAwIHx8IHVzZXIudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MjIpLmpzb24oeyBtZXNzYWdlOiBcIkludmFsaWQgZGF0YVwiIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGV4aXN0aW5nVXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeUlkKHVzZXIpO1xyXG4gICAgICAgIGlmICghZXhpc3RpbmdVc2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6IFwiTm8gc3VjaCB1c2VyIGZvdW5kXCIgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcG9zdCA9IG5ldyBQb3N0cyh7IHRpdGxlLCBkZXNjcmlwdGlvbiwgaW1hZ2UsIGxvY2F0aW9uLCBkYXRlLCB1c2VyIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgbW9uZ29vc2Uuc3RhcnRTZXNzaW9uKCk7XHJcblxyXG4gICAgICAgIHNlc3Npb24uc3RhcnRUcmFuc2FjdGlvbigpO1xyXG4gICAgICAgIGV4aXN0aW5nVXNlci5wb3N0cy5wdXNoKHBvc3QpO1xyXG4gICAgICAgIGF3YWl0IGV4aXN0aW5nVXNlci5zYXZlKHsgc2Vzc2lvbiB9KTtcclxuICAgICAgICBwb3N0ID0gYXdhaXQgcG9zdC5zYXZlKHsgc2Vzc2lvbiB9KTtcclxuICAgICAgICBzZXNzaW9uLmNvbW1pdFRyYW5zYWN0aW9uKCk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHBvc3QgfSk7XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDYpLmpzb24oeyBtZXNzYWdlOiBcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJlZFwiIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBnZXRQb3N0V2l0aElEID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBfaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgbGV0IHBvc3Q7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHBvc3QgPSBhd2FpdCBQb3N0cy5maW5kQnlJZChfaWQpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFwb3N0KSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogXCJObyBwb3N0IGZvdW5kXCIgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBwb3N0IH0pO1xyXG59XHJcblxyXG5jb25zdCB1cGRhdGVQb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBjb25zdCB7IHRpdGxlLCBkZXNjcmlwdGlvbiwgaW1hZ2UsIGxvY2F0aW9uLCBkYXRlIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBpZiAoIXRpdGxlIHx8ICFkZXNjcmlwdGlvbiB8fCAhaW1hZ2UgfHwgIWxvY2F0aW9uIHx8ICFkYXRlIHx8IHRpdGxlLnRyaW0oKS5sZW5ndGggPT09IDAgfHwgZGVzY3JpcHRpb24udHJpbSgpLmxlbmd0aCA9PT0gMCB8fCBpbWFnZS50cmltKCkubGVuZ3RoID09PSAwIHx8IGxvY2F0aW9uLnRyaW0oKS5sZW5ndGggPT09IDAgfHwgZGF0ZS50cmltKCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDIyKS5qc29uKHsgbWVzc2FnZTogXCJJbnZhbGlkIGRhdGFcIiB9KTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcG9zdDtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcG9zdCA9IGF3YWl0IFBvc3RzLmZpbmRCeUlkQW5kVXBkYXRlKGlkLCB7IHRpdGxlLCBkZXNjcmlwdGlvbiwgaW1hZ2UsIGxvY2F0aW9uLCBkYXRlIH0pO1xyXG4gICAgICAgIGlmICghcG9zdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIlVuYWJsZSB0byB1cGRhdGVcIiB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogXCJ1cGRhdGFlZCBzdWNjZXNmdWxseVwiIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDYpLmpzb24oeyBtZXNzYWdlOiBcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJlZFwiIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmNvbnN0IGRlbGV0ZVBvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IHBvc3Q7XHJcbiAgICAgICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xyXG5cclxuICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgbW9uZ29vc2Uuc3RhcnRTZXNzaW9uKCk7XHJcbiAgICAgICAgc2Vzc2lvbi5zdGFydFRyYW5zYWN0aW9uKCk7XHJcbiAgICAgICAgcG9zdCA9IGF3YWl0IFBvc3RzLmZpbmRCeUlkKGlkKS5wb3B1bGF0ZShcInVzZXJcIik7XHJcbiAgICAgICAgbGV0IGluZCA9IHBvc3QudXNlci5wb3N0cy5pbmRleE9mKGlkKTtcclxuICAgICAgICBwb3N0LnVzZXIucG9zdHMgPSBwb3N0LnVzZXIucG9zdHMuc2xpY2UoMCwgaW5kKS5jb25jYXQocG9zdC51c2VyLnBvc3RzLnNsaWNlKGluZCArIDEpKTtcclxuICAgICAgICBhd2FpdCBwb3N0LnVzZXIuc2F2ZSh7IHNlc3Npb24gfSk7XHJcbiAgICAgICAgcG9zdCA9IGF3YWl0IFBvc3RzLmZpbmRCeUlkQW5kUmVtb3ZlKGlkKTtcclxuICAgICAgICBzZXNzaW9uLmNvbW1pdFRyYW5zYWN0aW9uKCk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6IFwiZGVsZXRlZCBzdWNjZXNmdWxseVwiIH0pO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA2KS5qc29uKHttZXNzYWdlOlwiY291bGRuJ3QgZGVsZXRlIHRoZSBwb3N0XCJ9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHsgZ2V0QWxsUG9zdHMsIGFkZEFQb3N0LCBnZXRQb3N0V2l0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","map":{"version":3,"names":["getAllPosts","req","res","posts","Posts","find","populate","status","json","err","console","log","addAPost","title","description","image","location","date","user","body","trim","length","message","existingUser","Users","findById","post","session","mongoose","startSession","startTransaction","push","save","commitTransaction","getPostWithID","_id","params","id","updatePost","findByIdAndUpdate","deletePost","ind","indexOf","slice","concat","findByIdAndRemove","module","exports"],"sourceRoot":"D:\\Entire Mern Stack Project github\\MERN-Travel-Diaries-backend\\starting-app\\backend\\controllers\\","sources":["post-controllers.js"],"sourcesContent":["import Posts from '../models/Post';\r\nimport mongoose from 'mongoose';\r\nimport Users from '../models/User'\r\n\r\nconst getAllPosts = async (req, res) => {\r\n    try {\r\n        let posts = await Posts.find().populate(\"user\");\r\n        return res.status(200).json({ posts });\r\n    } catch (err) {\r\n        return console.log(err);\r\n    }\r\n}\r\n\r\nconst addAPost = async (req, res) => {\r\n\r\n    try {\r\n        const { title, description, image, location, date, user } = req.body;\r\n\r\n        if (!title || !description || !image || !location || !date || !user || title.trim().length === 0 || description.trim().length === 0 || image.trim().length === 0 || location.trim().length === 0 || date.trim().length === 0 || user.trim().length === 0) {\r\n            return res.status(422).json({ message: \"Invalid data\" });\r\n        }\r\n\r\n        let existingUser = await Users.findById(user);\r\n        if (!existingUser) {\r\n            return res.status(404).json({ message: \"No such user found\" });\r\n        }\r\n\r\n        let post = new Posts({ title, description, image, location, date, user });\r\n\r\n        const session = await mongoose.startSession();\r\n\r\n        session.startTransaction();\r\n        existingUser.posts.push(post);\r\n        await existingUser.save({ session });\r\n        post = await post.save({ session });\r\n        session.commitTransaction();\r\n\r\n        return res.status(200).json({ post });\r\n\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(406).json({ message: \"Unexpected error occured\" });\r\n    }\r\n}\r\n\r\nconst getPostWithID = async (req, res) => {\r\n    const _id = req.params.id;\r\n    let post;\r\n    try {\r\n        post = await Posts.findById(_id);\r\n    } catch (err) {\r\n        return console.log(err);\r\n    }\r\n\r\n    if (!post) {\r\n        return res.status(404).json({ message: \"No post found\" });\r\n    }\r\n    return res.status(200).json({ post });\r\n}\r\n\r\nconst updatePost = async (req, res) => {\r\n    const id = req.params.id;\r\n    const { title, description, image, location, date } = req.body;\r\n\r\n    if (!title || !description || !image || !location || !date || title.trim().length === 0 || description.trim().length === 0 || image.trim().length === 0 || location.trim().length === 0 || date.trim().length === 0) {\r\n        return res.status(422).json({ message: \"Invalid data\" });\r\n    }\r\n\r\n    let post;\r\n    try {\r\n        post = await Posts.findByIdAndUpdate(id, { title, description, image, location, date });\r\n        if (!post) {\r\n            return res.status(500).json({ message: \"Unable to update\" });\r\n        }\r\n        return res.status(200).json({ message: \"updataed succesfully\" });\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(406).json({ message: \"Unexpected error occured\" });\r\n    }\r\n\r\n\r\n}\r\n\r\nconst deletePost = async (req, res) => {\r\n    try {\r\n        let post;\r\n        const id = req.params.id;\r\n\r\n        const session = await mongoose.startSession();\r\n        session.startTransaction();\r\n        post = await Posts.findById(id).populate(\"user\");\r\n        let ind = post.user.posts.indexOf(id);\r\n        post.user.posts = post.user.posts.slice(0, ind).concat(post.user.posts.slice(ind + 1));\r\n        await post.user.save({ session });\r\n        post = await Posts.findByIdAndRemove(id);\r\n        session.commitTransaction();\r\n\r\n        return res.status(200).json({ message: \"deleted succesfully\" });\r\n\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(406).json({message:\"couldn't delete the post\"});\r\n    }\r\n\r\n}\r\n\r\n\r\nmodule.exports = { getAllPosts, addAPost, getPostWithID, updatePost, deletePost };"],"mappings":"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"}},"mtime":1675518009824},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"filename\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\models\\\\Post.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst postSchema = new _mongoose.default.Schema({\n  title: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  location: {\n    type: String,\n    required: true\n  },\n  date: {\n    type: String,\n    required: true\n  },\n  user: {\n    type: _mongoose.default.Types.ObjectId,\n    ref: \"User\",\n    required: true\n  }\n});\nconst Posts = new _mongoose.default.model(\"Post\", postSchema);\nmodule.exports = Posts;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwb3N0U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImRlc2NyaXB0aW9uIiwiaW1hZ2UiLCJsb2NhdGlvbiIsImRhdGUiLCJ1c2VyIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsIlBvc3RzIiwibW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcRW50aXJlIE1lcm4gU3RhY2sgUHJvamVjdCBnaXRodWJcXE1FUk4tVHJhdmVsLURpYXJpZXMtYmFja2VuZFxcc3RhcnRpbmctYXBwXFxiYWNrZW5kXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiUG9zdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBwb3N0U2NoZW1hPW5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gICAgdGl0bGU6e1xyXG4gICAgICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOnRydWUsXHJcbiAgICB9LFxyXG4gICAgZGVzY3JpcHRpb246e1xyXG4gICAgICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOnRydWUsXHJcbiAgICB9LFxyXG4gICAgaW1hZ2U6e1xyXG4gICAgICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOnRydWUsXHJcbiAgICB9LFxyXG4gICAgbG9jYXRpb246e1xyXG4gICAgICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOnRydWUsXHJcbiAgICB9LFxyXG4gICAgZGF0ZTp7XHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6dHJ1ZSxcclxuICAgIH0sXHJcbiAgICB1c2VyOntcclxuICAgICAgICB0eXBlOm1vbmdvb3NlLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICAgIHJlZjpcIlVzZXJcIixcclxuICAgICAgICByZXF1aXJlZDp0cnVlLFxyXG4gICAgfVxyXG59KTtcclxuXHJcbmNvbnN0IFBvc3RzPW5ldyBtb25nb29zZS5tb2RlbChcIlBvc3RcIixwb3N0U2NoZW1hKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzPVBvc3RzOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUFnQztBQUVoQyxNQUFNQSxVQUFVLEdBQUMsSUFBSUMsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDO0VBQ2pDQyxLQUFLLEVBQUM7SUFDRkMsSUFBSSxFQUFDQyxNQUFNO0lBQ1hDLFFBQVEsRUFBQztFQUNiLENBQUM7RUFDREMsV0FBVyxFQUFDO0lBQ1JILElBQUksRUFBQ0MsTUFBTTtJQUNYQyxRQUFRLEVBQUM7RUFDYixDQUFDO0VBQ0RFLEtBQUssRUFBQztJQUNGSixJQUFJLEVBQUNDLE1BQU07SUFDWEMsUUFBUSxFQUFDO0VBQ2IsQ0FBQztFQUNERyxRQUFRLEVBQUM7SUFDTEwsSUFBSSxFQUFDQyxNQUFNO0lBQ1hDLFFBQVEsRUFBQztFQUNiLENBQUM7RUFDREksSUFBSSxFQUFDO0lBQ0ROLElBQUksRUFBQ0MsTUFBTTtJQUNYQyxRQUFRLEVBQUM7RUFDYixDQUFDO0VBQ0RLLElBQUksRUFBQztJQUNEUCxJQUFJLEVBQUNILGlCQUFRLENBQUNXLEtBQUssQ0FBQ0MsUUFBUTtJQUM1QkMsR0FBRyxFQUFDLE1BQU07SUFDVlIsUUFBUSxFQUFDO0VBQ2I7QUFDSixDQUFDLENBQUM7QUFFRixNQUFNUyxLQUFLLEdBQUMsSUFBSWQsaUJBQVEsQ0FBQ2UsS0FBSyxDQUFDLE1BQU0sRUFBQ2hCLFVBQVUsQ0FBQztBQUVqRGlCLE1BQU0sQ0FBQ0MsT0FBTyxHQUFDSCxLQUFLIn0=","map":{"version":3,"names":["postSchema","mongoose","Schema","title","type","String","required","description","image","location","date","user","Types","ObjectId","ref","Posts","model","module","exports"],"sourceRoot":"D:\\Entire Mern Stack Project github\\MERN-Travel-Diaries-backend\\starting-app\\backend\\models\\","sources":["Post.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst postSchema=new mongoose.Schema({\r\n    title:{\r\n        type:String,\r\n        required:true,\r\n    },\r\n    description:{\r\n        type:String,\r\n        required:true,\r\n    },\r\n    image:{\r\n        type:String,\r\n        required:true,\r\n    },\r\n    location:{\r\n        type:String,\r\n        required:true,\r\n    },\r\n    date:{\r\n        type:String,\r\n        required:true,\r\n    },\r\n    user:{\r\n        type:mongoose.Types.ObjectId,\r\n        ref:\"User\",\r\n        required:true,\r\n    }\r\n});\r\n\r\nconst Posts=new mongoose.model(\"Post\",postSchema);\r\n\r\nmodule.exports=Posts;"],"mappings":";;AAAA;AAAgC;AAEhC,MAAMA,UAAU,GAAC,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACjCC,KAAK,EAAC;IACFC,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC;EACb,CAAC;EACDC,WAAW,EAAC;IACRH,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC;EACb,CAAC;EACDE,KAAK,EAAC;IACFJ,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC;EACb,CAAC;EACDG,QAAQ,EAAC;IACLL,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC;EACb,CAAC;EACDI,IAAI,EAAC;IACDN,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC;EACb,CAAC;EACDK,IAAI,EAAC;IACDP,IAAI,EAACH,iBAAQ,CAACW,KAAK,CAACC,QAAQ;IAC5BC,GAAG,EAAC,MAAM;IACVR,QAAQ,EAAC;EACb;AACJ,CAAC,CAAC;AAEF,MAAMS,KAAK,GAAC,IAAId,iBAAQ,CAACe,KAAK,CAAC,MAAM,EAAChB,UAAU,CAAC;AAEjDiB,MAAM,CAACC,OAAO,GAACH,KAAK"}},"mtime":1675187849162},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\routing\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"filename\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\routing\\\\user-routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _userControllers = require(\"../controllers/user-controllers\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// validation is to be put in here\n\nconst userRouter = (0, _express.default)();\nuserRouter.get(\"/\", _userControllers.getAllUsers);\nuserRouter.get(\"/:id\", _userControllers.getUserById);\nuserRouter.post(\"/signup\", _userControllers.signup);\nuserRouter.post(\"/login\", _userControllers.login);\nuserRouter.delete(\"/:id\", _userControllers.deleteUser);\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyUm91dGVyIiwiUm91dGVyIiwiZ2V0IiwiZ2V0QWxsVXNlcnMiLCJnZXRVc2VyQnlJZCIsInBvc3QiLCJzaWdudXAiLCJsb2dpbiIsImRlbGV0ZSIsImRlbGV0ZVVzZXIiXSwic291cmNlUm9vdCI6IkQ6XFxFbnRpcmUgTWVybiBTdGFjayBQcm9qZWN0IGdpdGh1YlxcTUVSTi1UcmF2ZWwtRGlhcmllcy1iYWNrZW5kXFxzdGFydGluZy1hcHBcXGJhY2tlbmRcXHJvdXRpbmdcXCIsInNvdXJjZXMiOlsidXNlci1yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvdXRlciBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHsgZ2V0QWxsVXNlcnMsIHNpZ251cCwgbG9naW4sIGRlbGV0ZVVzZXIsIGdldFVzZXJCeUlkfSBmcm9tICcuLi9jb250cm9sbGVycy91c2VyLWNvbnRyb2xsZXJzJztcclxuXHJcbi8vIHZhbGlkYXRpb24gaXMgdG8gYmUgcHV0IGluIGhlcmVcclxuXHJcbmNvbnN0IHVzZXJSb3V0ZXI9Um91dGVyKCk7XHJcblxyXG51c2VyUm91dGVyLmdldChcIi9cIiwgZ2V0QWxsVXNlcnMpO1xyXG51c2VyUm91dGVyLmdldChcIi86aWRcIiwgZ2V0VXNlckJ5SWQpO1xyXG51c2VyUm91dGVyLnBvc3QoXCIvc2lnbnVwXCIsIHNpZ251cCk7XHJcbnVzZXJSb3V0ZXIucG9zdChcIi9sb2dpblwiLCBsb2dpbik7XHJcbnVzZXJSb3V0ZXIuZGVsZXRlKFwiLzppZFwiLGRlbGV0ZVVzZXIpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlclJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFBcUc7QUFFckc7O0FBRUEsTUFBTUEsVUFBVSxHQUFDLElBQUFDLGdCQUFNLEdBQUU7QUFFekJELFVBQVUsQ0FBQ0UsR0FBRyxDQUFDLEdBQUcsRUFBRUMsNEJBQVcsQ0FBQztBQUNoQ0gsVUFBVSxDQUFDRSxHQUFHLENBQUMsTUFBTSxFQUFFRSw0QkFBVyxDQUFDO0FBQ25DSixVQUFVLENBQUNLLElBQUksQ0FBQyxTQUFTLEVBQUVDLHVCQUFNLENBQUM7QUFDbENOLFVBQVUsQ0FBQ0ssSUFBSSxDQUFDLFFBQVEsRUFBRUUsc0JBQUssQ0FBQztBQUNoQ1AsVUFBVSxDQUFDUSxNQUFNLENBQUMsTUFBTSxFQUFDQywyQkFBVSxDQUFDO0FBQUMsZUFFdEJULFVBQVU7QUFBQSJ9","map":{"version":3,"names":["userRouter","Router","get","getAllUsers","getUserById","post","signup","login","delete","deleteUser"],"sourceRoot":"D:\\Entire Mern Stack Project github\\MERN-Travel-Diaries-backend\\starting-app\\backend\\routing\\","sources":["user-routes.js"],"sourcesContent":["import Router from 'express';\r\nimport { getAllUsers, signup, login, deleteUser, getUserById} from '../controllers/user-controllers';\r\n\r\n// validation is to be put in here\r\n\r\nconst userRouter=Router();\r\n\r\nuserRouter.get(\"/\", getAllUsers);\r\nuserRouter.get(\"/:id\", getUserById);\r\nuserRouter.post(\"/signup\", signup);\r\nuserRouter.post(\"/login\", login);\r\nuserRouter.delete(\"/:id\",deleteUser);\r\n\r\nexport default userRouter;"],"mappings":";;;;;;AAAA;AACA;AAAqG;AAErG;;AAEA,MAAMA,UAAU,GAAC,IAAAC,gBAAM,GAAE;AAEzBD,UAAU,CAACE,GAAG,CAAC,GAAG,EAAEC,4BAAW,CAAC;AAChCH,UAAU,CAACE,GAAG,CAAC,MAAM,EAAEE,4BAAW,CAAC;AACnCJ,UAAU,CAACK,IAAI,CAAC,SAAS,EAAEC,uBAAM,CAAC;AAClCN,UAAU,CAACK,IAAI,CAAC,QAAQ,EAAEE,sBAAK,CAAC;AAChCP,UAAU,CAACQ,MAAM,CAAC,MAAM,EAACC,2BAAU,CAAC;AAAC,eAEtBT,UAAU;AAAA"}},"mtime":1675448434903},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"filename\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\controllers\\\\user-controllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _bcryptjs = require(\"bcryptjs\");\nvar _User = _interopRequireDefault(require(\"../models/User\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getAllUsers = async (req, res) => {\n  try {\n    const userDoc = await _User.default.find();\n    return res.status(200).json({\n      userDoc\n    });\n  } catch (err) {\n    console.log(err);\n    return res.status(406).json({\n      message: \"Some error occured\"\n    });\n  }\n  ;\n};\nconst getUserById = async (req, res) => {\n  try {\n    const userId = req.params.id;\n    const user = await _User.default.findById(userId).populate(\"posts\");\n    if (!user) {\n      return res.status(404).json({\n        user\n      });\n    }\n    return res.status(200).json({\n      user\n    });\n  } catch (err) {\n    console.log(err);\n    return res.status(406).json({\n      message: \"Some error occured\"\n    });\n  }\n};\nconst signup = async (req, res) => {\n  try {\n    let {\n      name,\n      email,\n      password\n    } = req.body;\n    if (!name || name.trim().length === 0 || !email || email.trim().length === 0 || !password || password.length < 6) {\n      return res.status(422).json({\n        message: \"Invalid Data\"\n      });\n    }\n    let hashedPassword = (0, _bcryptjs.hashSync)(password);\n    let userDoc = await new _User.default({\n      name,\n      email,\n      password: hashedPassword\n    });\n    await userDoc.save();\n    return res.status(201).json({\n      userDoc\n    });\n  } catch (err) {\n    console.log(err.message);\n    return res.status(406).json({\n      message: err.message\n    });\n  }\n};\nconst login = async (req, res) => {\n  try {\n    const {\n      email,\n      password\n    } = req.body;\n    if (!email || !password || email.trim().length === 0 || password.length < 6) {\n      return res.status(422).json({\n        message: \"Invalid Data\"\n      });\n    }\n    let existingUser = await _User.default.findOne({\n      email\n    });\n    if (!existingUser) {\n      return res.status(404).json({\n        message: \"User not found\"\n      });\n    }\n    let isCorrectPassword = (0, _bcryptjs.compareSync)(password, existingUser.password);\n    if (!isCorrectPassword) {\n      return res.status(400).json({\n        message: \"Incorrect password\"\n      });\n    }\n    return res.status(200).json({\n      _id: existingUser.id,\n      message: \"Login succesful\"\n    });\n  } catch (err) {\n    console.log(err);\n    return res.status(406).json({\n      message: \"Some error occured\"\n    });\n  }\n};\nconst deleteUser = async (req, res) => {\n  try {\n    await _User.default.findByIdAndRemove(req.params.id);\n    return res.status(200).json({\n      message: \"deleted successfully\"\n    });\n  } catch (err) {\n    return console.log(err);\n  }\n};\nmodule.exports = {\n  getAllUsers,\n  signup,\n  login,\n  deleteUser,\n  getUserById\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRBbGxVc2VycyIsInJlcSIsInJlcyIsInVzZXJEb2MiLCJVc2VycyIsImZpbmQiLCJzdGF0dXMiLCJqc29uIiwiZXJyIiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJnZXRVc2VyQnlJZCIsInVzZXJJZCIsInBhcmFtcyIsImlkIiwidXNlciIsImZpbmRCeUlkIiwicG9wdWxhdGUiLCJzaWdudXAiLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsImJvZHkiLCJ0cmltIiwibGVuZ3RoIiwiaGFzaGVkUGFzc3dvcmQiLCJoYXNoU3luYyIsInNhdmUiLCJsb2dpbiIsImV4aXN0aW5nVXNlciIsImZpbmRPbmUiLCJpc0NvcnJlY3RQYXNzd29yZCIsImNvbXBhcmVTeW5jIiwiX2lkIiwiZGVsZXRlVXNlciIsImZpbmRCeUlkQW5kUmVtb3ZlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXEVudGlyZSBNZXJuIFN0YWNrIFByb2plY3QgZ2l0aHViXFxNRVJOLVRyYXZlbC1EaWFyaWVzLWJhY2tlbmRcXHN0YXJ0aW5nLWFwcFxcYmFja2VuZFxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsidXNlci1jb250cm9sbGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21wYXJlU3luYywgaGFzaFN5bmMgfSBmcm9tICdiY3J5cHRqcyc7XHJcbmltcG9ydCBVc2VycyBmcm9tICcuLi9tb2RlbHMvVXNlcic7XHJcblxyXG5cclxuY29uc3QgZ2V0QWxsVXNlcnMgPSBhc3luYyAocmVxLHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB1c2VyRG9jID0gYXdhaXQgVXNlcnMuZmluZCgpO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHVzZXJEb2MgfSk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNikuanNvbih7bWVzc2FnZTpcIlNvbWUgZXJyb3Igb2NjdXJlZFwifSk7XHJcbiAgICB9O1xyXG59XHJcblxyXG5jb25zdCBnZXRVc2VyQnlJZD1hc3luYyAocmVxLHJlcyk9PntcclxuICAgIHRyeXtcclxuICAgICAgICBjb25zdCB1c2VySWQ9cmVxLnBhcmFtcy5pZDtcclxuICAgICAgICBjb25zdCB1c2VyPWF3YWl0IFVzZXJzLmZpbmRCeUlkKHVzZXJJZCkucG9wdWxhdGUoXCJwb3N0c1wiKTtcclxuICAgICAgICBpZighdXNlcil7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7dXNlcn0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe3VzZXJ9KTtcclxuICAgIH1jYXRjaChlcnIpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA2KS5qc29uKHttZXNzYWdlOlwiU29tZSBlcnJvciBvY2N1cmVkXCJ9KTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3Qgc2lnbnVwID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCB7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XHJcbiAgICAgICAgaWYgKCFuYW1lIHx8IG5hbWUudHJpbSgpLmxlbmd0aCA9PT0gMCB8fCAhZW1haWwgfHwgZW1haWwudHJpbSgpLmxlbmd0aCA9PT0gMCB8fCAhcGFzc3dvcmQgfHwgcGFzc3dvcmQubGVuZ3RoPDYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDIyKS5qc29uKHsgbWVzc2FnZTogXCJJbnZhbGlkIERhdGFcIiB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGhhc2hlZFBhc3N3b3JkID0gaGFzaFN5bmMocGFzc3dvcmQpO1xyXG4gICAgICAgIGxldCB1c2VyRG9jID1hd2FpdCBuZXcgVXNlcnMoeyBuYW1lLCBlbWFpbCwgcGFzc3dvcmQ6aGFzaGVkUGFzc3dvcmQgfSk7XHJcbiAgICAgICAgYXdhaXQgdXNlckRvYy5zYXZlKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgdXNlckRvYyB9KTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDYpLmpzb24oe21lc3NhZ2U6ZXJyLm1lc3NhZ2V9KTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbG9naW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xyXG4gICAgICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkIHx8IGVtYWlsLnRyaW0oKS5sZW5ndGggPT09IDAgfHwgcGFzc3dvcmQubGVuZ3RoIDwgNikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MjIpLmpzb24oeyBtZXNzYWdlOiBcIkludmFsaWQgRGF0YVwiIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZXhpc3RpbmdVc2VyID0gYXdhaXQgVXNlcnMuZmluZE9uZSh7IGVtYWlsIH0pO1xyXG4gICAgICAgIGlmICghZXhpc3RpbmdVc2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6IFwiVXNlciBub3QgZm91bmRcIiB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGlzQ29ycmVjdFBhc3N3b3JkID0gY29tcGFyZVN5bmMocGFzc3dvcmQsIGV4aXN0aW5nVXNlci5wYXNzd29yZCk7XHJcbiAgICAgICAgaWYgKCFpc0NvcnJlY3RQYXNzd29yZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIkluY29ycmVjdCBwYXNzd29yZFwiIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IF9pZDogZXhpc3RpbmdVc2VyLmlkLCBtZXNzYWdlOiBcIkxvZ2luIHN1Y2Nlc2Z1bFwiIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDYpLmpzb24oe21lc3NhZ2U6XCJTb21lIGVycm9yIG9jY3VyZWRcIn0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBkZWxldGVVc2VyID0gYXN5bmMocmVxLHJlcyk9PntcclxuICAgIHRyeXtcclxuICAgICAgICBhd2FpdCBVc2Vycy5maW5kQnlJZEFuZFJlbW92ZShyZXEucGFyYW1zLmlkKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6XCJkZWxldGVkIHN1Y2Nlc3NmdWxseVwifSk7XHJcbiAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0geyBnZXRBbGxVc2Vycywgc2lnbnVwLCBsb2dpbixkZWxldGVVc2VyLCBnZXRVc2VyQnlJZH07Il0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFBbUM7QUFHbkMsTUFBTUEsV0FBVyxHQUFHLE9BQU9DLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0VBQ25DLElBQUk7SUFDQSxNQUFNQyxPQUFPLEdBQUcsTUFBTUMsYUFBSyxDQUFDQyxJQUFJLEVBQUU7SUFDbEMsT0FBT0gsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFSjtJQUFRLENBQUMsQ0FBQztFQUM1QyxDQUFDLENBQUMsT0FBT0ssR0FBRyxFQUFFO0lBQ1ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixHQUFHLENBQUM7SUFDaEIsT0FBT04sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFDSSxPQUFPLEVBQUM7SUFBb0IsQ0FBQyxDQUFDO0VBQy9EO0VBQUM7QUFDTCxDQUFDO0FBRUQsTUFBTUMsV0FBVyxHQUFDLE9BQU9YLEdBQUcsRUFBQ0MsR0FBRyxLQUFHO0VBQy9CLElBQUc7SUFDQyxNQUFNVyxNQUFNLEdBQUNaLEdBQUcsQ0FBQ2EsTUFBTSxDQUFDQyxFQUFFO0lBQzFCLE1BQU1DLElBQUksR0FBQyxNQUFNWixhQUFLLENBQUNhLFFBQVEsQ0FBQ0osTUFBTSxDQUFDLENBQUNLLFFBQVEsQ0FBQyxPQUFPLENBQUM7SUFDekQsSUFBRyxDQUFDRixJQUFJLEVBQUM7TUFDTCxPQUFPZCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQUNTO01BQUksQ0FBQyxDQUFDO0lBQ3ZDO0lBQ0EsT0FBT2QsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFDUztJQUFJLENBQUMsQ0FBQztFQUN2QyxDQUFDLFFBQU1SLEdBQUcsRUFBQztJQUNQQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsR0FBRyxDQUFDO0lBQ2hCLE9BQU9OLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBQ0ksT0FBTyxFQUFDO0lBQW9CLENBQUMsQ0FBQztFQUMvRDtBQUNKLENBQUM7QUFFRCxNQUFNUSxNQUFNLEdBQUcsT0FBT2xCLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQy9CLElBQUk7SUFDQSxJQUFJO01BQUVrQixJQUFJO01BQUVDLEtBQUs7TUFBRUM7SUFBUyxDQUFDLEdBQUdyQixHQUFHLENBQUNzQixJQUFJO0lBQ3hDLElBQUksQ0FBQ0gsSUFBSSxJQUFJQSxJQUFJLENBQUNJLElBQUksRUFBRSxDQUFDQyxNQUFNLEtBQUssQ0FBQyxJQUFJLENBQUNKLEtBQUssSUFBSUEsS0FBSyxDQUFDRyxJQUFJLEVBQUUsQ0FBQ0MsTUFBTSxLQUFLLENBQUMsSUFBSSxDQUFDSCxRQUFRLElBQUlBLFFBQVEsQ0FBQ0csTUFBTSxHQUFDLENBQUMsRUFBRTtNQUM1RyxPQUFPdkIsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUFFSSxPQUFPLEVBQUU7TUFBZSxDQUFDLENBQUM7SUFDNUQ7SUFDQSxJQUFJZSxjQUFjLEdBQUcsSUFBQUMsa0JBQVEsRUFBQ0wsUUFBUSxDQUFDO0lBQ3ZDLElBQUluQixPQUFPLEdBQUUsTUFBTSxJQUFJQyxhQUFLLENBQUM7TUFBRWdCLElBQUk7TUFBRUMsS0FBSztNQUFFQyxRQUFRLEVBQUNJO0lBQWUsQ0FBQyxDQUFDO0lBQ3RFLE1BQU12QixPQUFPLENBQUN5QixJQUFJLEVBQUU7SUFDcEIsT0FBTzFCLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUo7SUFBUSxDQUFDLENBQUM7RUFDNUMsQ0FBQyxDQUFDLE9BQU9LLEdBQUcsRUFBRTtJQUNWQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsR0FBRyxDQUFDRyxPQUFPLENBQUM7SUFDeEIsT0FBT1QsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFDSSxPQUFPLEVBQUNILEdBQUcsQ0FBQ0c7SUFBTyxDQUFDLENBQUM7RUFDdEQ7QUFDSixDQUFDO0FBRUQsTUFBTWtCLEtBQUssR0FBRyxPQUFPNUIsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDOUIsSUFBSTtJQUNBLE1BQU07TUFBRW1CLEtBQUs7TUFBRUM7SUFBUyxDQUFDLEdBQUdyQixHQUFHLENBQUNzQixJQUFJO0lBQ3BDLElBQUksQ0FBQ0YsS0FBSyxJQUFJLENBQUNDLFFBQVEsSUFBSUQsS0FBSyxDQUFDRyxJQUFJLEVBQUUsQ0FBQ0MsTUFBTSxLQUFLLENBQUMsSUFBSUgsUUFBUSxDQUFDRyxNQUFNLEdBQUcsQ0FBQyxFQUFFO01BQ3pFLE9BQU92QixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQUVJLE9BQU8sRUFBRTtNQUFlLENBQUMsQ0FBQztJQUM1RDtJQUNBLElBQUltQixZQUFZLEdBQUcsTUFBTTFCLGFBQUssQ0FBQzJCLE9BQU8sQ0FBQztNQUFFVjtJQUFNLENBQUMsQ0FBQztJQUNqRCxJQUFJLENBQUNTLFlBQVksRUFBRTtNQUNmLE9BQU81QixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQUVJLE9BQU8sRUFBRTtNQUFpQixDQUFDLENBQUM7SUFDOUQ7SUFDQSxJQUFJcUIsaUJBQWlCLEdBQUcsSUFBQUMscUJBQVcsRUFBQ1gsUUFBUSxFQUFFUSxZQUFZLENBQUNSLFFBQVEsQ0FBQztJQUNwRSxJQUFJLENBQUNVLGlCQUFpQixFQUFFO01BQ3BCLE9BQU85QixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQUVJLE9BQU8sRUFBRTtNQUFxQixDQUFDLENBQUM7SUFDbEU7SUFDQSxPQUFPVCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUUyQixHQUFHLEVBQUVKLFlBQVksQ0FBQ2YsRUFBRTtNQUFFSixPQUFPLEVBQUU7SUFBa0IsQ0FBQyxDQUFDO0VBQ3JGLENBQUMsQ0FBQyxPQUFPSCxHQUFHLEVBQUU7SUFDVkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEdBQUcsQ0FBQztJQUNoQixPQUFPTixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUNJLE9BQU8sRUFBQztJQUFvQixDQUFDLENBQUM7RUFDL0Q7QUFDSixDQUFDO0FBRUQsTUFBTXdCLFVBQVUsR0FBRyxPQUFNbEMsR0FBRyxFQUFDQyxHQUFHLEtBQUc7RUFDL0IsSUFBRztJQUNDLE1BQU1FLGFBQUssQ0FBQ2dDLGlCQUFpQixDQUFDbkMsR0FBRyxDQUFDYSxNQUFNLENBQUNDLEVBQUUsQ0FBQztJQUM1QyxPQUFPYixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUNJLE9BQU8sRUFBQztJQUFzQixDQUFDLENBQUM7RUFDakUsQ0FBQyxRQUFNSCxHQUFHLEVBQUM7SUFDUCxPQUFPQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsR0FBRyxDQUFDO0VBQzNCO0FBQ0osQ0FBQztBQUdENkIsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFBRXRDLFdBQVc7RUFBRW1CLE1BQU07RUFBRVUsS0FBSztFQUFDTSxVQUFVO0VBQUV2QjtBQUFXLENBQUMifQ==","map":{"version":3,"names":["getAllUsers","req","res","userDoc","Users","find","status","json","err","console","log","message","getUserById","userId","params","id","user","findById","populate","signup","name","email","password","body","trim","length","hashedPassword","hashSync","save","login","existingUser","findOne","isCorrectPassword","compareSync","_id","deleteUser","findByIdAndRemove","module","exports"],"sourceRoot":"D:\\Entire Mern Stack Project github\\MERN-Travel-Diaries-backend\\starting-app\\backend\\controllers\\","sources":["user-controllers.js"],"sourcesContent":["import { compareSync, hashSync } from 'bcryptjs';\r\nimport Users from '../models/User';\r\n\r\n\r\nconst getAllUsers = async (req,res) => {\r\n    try {\r\n        const userDoc = await Users.find();\r\n        return res.status(200).json({ userDoc });\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(406).json({message:\"Some error occured\"});\r\n    };\r\n}\r\n\r\nconst getUserById=async (req,res)=>{\r\n    try{\r\n        const userId=req.params.id;\r\n        const user=await Users.findById(userId).populate(\"posts\");\r\n        if(!user){\r\n            return res.status(404).json({user});\r\n        }\r\n        return res.status(200).json({user});\r\n    }catch(err){\r\n        console.log(err);\r\n        return res.status(406).json({message:\"Some error occured\"});\r\n    }\r\n}\r\n\r\nconst signup = async (req, res) => {\r\n    try {\r\n        let { name, email, password } = req.body;\r\n        if (!name || name.trim().length === 0 || !email || email.trim().length === 0 || !password || password.length<6) {\r\n            return res.status(422).json({ message: \"Invalid Data\" });\r\n        }\r\n        let hashedPassword = hashSync(password);\r\n        let userDoc =await new Users({ name, email, password:hashedPassword });\r\n        await userDoc.save();\r\n        return res.status(201).json({ userDoc });\r\n    } catch (err) {\r\n        console.log(err.message);\r\n        return res.status(406).json({message:err.message});\r\n    }\r\n}\r\n\r\nconst login = async (req, res) => {\r\n    try {\r\n        const { email, password } = req.body;\r\n        if (!email || !password || email.trim().length === 0 || password.length < 6) {\r\n            return res.status(422).json({ message: \"Invalid Data\" });\r\n        }\r\n        let existingUser = await Users.findOne({ email });\r\n        if (!existingUser) {\r\n            return res.status(404).json({ message: \"User not found\" });\r\n        }\r\n        let isCorrectPassword = compareSync(password, existingUser.password);\r\n        if (!isCorrectPassword) {\r\n            return res.status(400).json({ message: \"Incorrect password\" })\r\n        }\r\n        return res.status(200).json({ _id: existingUser.id, message: \"Login succesful\" });\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(406).json({message:\"Some error occured\"});\r\n    }\r\n}\r\n\r\nconst deleteUser = async(req,res)=>{\r\n    try{\r\n        await Users.findByIdAndRemove(req.params.id);\r\n        return res.status(200).json({message:\"deleted successfully\"});\r\n    }catch(err){\r\n        return console.log(err);\r\n    }\r\n}\r\n\r\n\r\nmodule.exports = { getAllUsers, signup, login,deleteUser, getUserById};"],"mappings":";;AAAA;AACA;AAAmC;AAGnC,MAAMA,WAAW,GAAG,OAAOC,GAAG,EAACC,GAAG,KAAK;EACnC,IAAI;IACA,MAAMC,OAAO,GAAG,MAAMC,aAAK,CAACC,IAAI,EAAE;IAClC,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEJ;IAAQ,CAAC,CAAC;EAC5C,CAAC,CAAC,OAAOK,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChB,OAAON,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAACI,OAAO,EAAC;IAAoB,CAAC,CAAC;EAC/D;EAAC;AACL,CAAC;AAED,MAAMC,WAAW,GAAC,OAAOX,GAAG,EAACC,GAAG,KAAG;EAC/B,IAAG;IACC,MAAMW,MAAM,GAACZ,GAAG,CAACa,MAAM,CAACC,EAAE;IAC1B,MAAMC,IAAI,GAAC,MAAMZ,aAAK,CAACa,QAAQ,CAACJ,MAAM,CAAC,CAACK,QAAQ,CAAC,OAAO,CAAC;IACzD,IAAG,CAACF,IAAI,EAAC;MACL,OAAOd,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAACS;MAAI,CAAC,CAAC;IACvC;IACA,OAAOd,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAACS;IAAI,CAAC,CAAC;EACvC,CAAC,QAAMR,GAAG,EAAC;IACPC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChB,OAAON,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAACI,OAAO,EAAC;IAAoB,CAAC,CAAC;EAC/D;AACJ,CAAC;AAED,MAAMQ,MAAM,GAAG,OAAOlB,GAAG,EAAEC,GAAG,KAAK;EAC/B,IAAI;IACA,IAAI;MAAEkB,IAAI;MAAEC,KAAK;MAAEC;IAAS,CAAC,GAAGrB,GAAG,CAACsB,IAAI;IACxC,IAAI,CAACH,IAAI,IAAIA,IAAI,CAACI,IAAI,EAAE,CAACC,MAAM,KAAK,CAAC,IAAI,CAACJ,KAAK,IAAIA,KAAK,CAACG,IAAI,EAAE,CAACC,MAAM,KAAK,CAAC,IAAI,CAACH,QAAQ,IAAIA,QAAQ,CAACG,MAAM,GAAC,CAAC,EAAE;MAC5G,OAAOvB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEI,OAAO,EAAE;MAAe,CAAC,CAAC;IAC5D;IACA,IAAIe,cAAc,GAAG,IAAAC,kBAAQ,EAACL,QAAQ,CAAC;IACvC,IAAInB,OAAO,GAAE,MAAM,IAAIC,aAAK,CAAC;MAAEgB,IAAI;MAAEC,KAAK;MAAEC,QAAQ,EAACI;IAAe,CAAC,CAAC;IACtE,MAAMvB,OAAO,CAACyB,IAAI,EAAE;IACpB,OAAO1B,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEJ;IAAQ,CAAC,CAAC;EAC5C,CAAC,CAAC,OAAOK,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,OAAO,CAAC;IACxB,OAAOT,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAACI,OAAO,EAACH,GAAG,CAACG;IAAO,CAAC,CAAC;EACtD;AACJ,CAAC;AAED,MAAMkB,KAAK,GAAG,OAAO5B,GAAG,EAAEC,GAAG,KAAK;EAC9B,IAAI;IACA,MAAM;MAAEmB,KAAK;MAAEC;IAAS,CAAC,GAAGrB,GAAG,CAACsB,IAAI;IACpC,IAAI,CAACF,KAAK,IAAI,CAACC,QAAQ,IAAID,KAAK,CAACG,IAAI,EAAE,CAACC,MAAM,KAAK,CAAC,IAAIH,QAAQ,CAACG,MAAM,GAAG,CAAC,EAAE;MACzE,OAAOvB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEI,OAAO,EAAE;MAAe,CAAC,CAAC;IAC5D;IACA,IAAImB,YAAY,GAAG,MAAM1B,aAAK,CAAC2B,OAAO,CAAC;MAAEV;IAAM,CAAC,CAAC;IACjD,IAAI,CAACS,YAAY,EAAE;MACf,OAAO5B,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEI,OAAO,EAAE;MAAiB,CAAC,CAAC;IAC9D;IACA,IAAIqB,iBAAiB,GAAG,IAAAC,qBAAW,EAACX,QAAQ,EAAEQ,YAAY,CAACR,QAAQ,CAAC;IACpE,IAAI,CAACU,iBAAiB,EAAE;MACpB,OAAO9B,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEI,OAAO,EAAE;MAAqB,CAAC,CAAC;IAClE;IACA,OAAOT,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAE2B,GAAG,EAAEJ,YAAY,CAACf,EAAE;MAAEJ,OAAO,EAAE;IAAkB,CAAC,CAAC;EACrF,CAAC,CAAC,OAAOH,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChB,OAAON,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAACI,OAAO,EAAC;IAAoB,CAAC,CAAC;EAC/D;AACJ,CAAC;AAED,MAAMwB,UAAU,GAAG,OAAMlC,GAAG,EAACC,GAAG,KAAG;EAC/B,IAAG;IACC,MAAME,aAAK,CAACgC,iBAAiB,CAACnC,GAAG,CAACa,MAAM,CAACC,EAAE,CAAC;IAC5C,OAAOb,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAACI,OAAO,EAAC;IAAsB,CAAC,CAAC;EACjE,CAAC,QAAMH,GAAG,EAAC;IACP,OAAOC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EAC3B;AACJ,CAAC;AAGD6B,MAAM,CAACC,OAAO,GAAG;EAAEtC,WAAW;EAAEmB,MAAM;EAAEU,KAAK;EAACM,UAAU;EAAEvB;AAAW,CAAC"}},"mtime":1675582584990},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"filename\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\models\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true,\n    minLength: 5\n  },\n  posts: [{\n    type: _mongoose.default.Types.ObjectId,\n    ref: \"Post\"\n  }]\n});\nconst Users = new _mongoose.default.model('User', userSchema);\nmodule.exports = Users;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsIm1pbkxlbmd0aCIsInBvc3RzIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsIlVzZXJzIiwibW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcRW50aXJlIE1lcm4gU3RhY2sgUHJvamVjdCBnaXRodWJcXE1FUk4tVHJhdmVsLURpYXJpZXMtYmFja2VuZFxcc3RhcnRpbmctYXBwXFxiYWNrZW5kXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCB1c2VyU2NoZW1hPW5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gICAgbmFtZTp7XHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6dHJ1ZSxcclxuICAgIH0sXHJcbiAgICBlbWFpbDp7XHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6dHJ1ZSxcclxuICAgICAgICB1bmlxdWU6dHJ1ZSxcclxuICAgIH0sXHJcbiAgICBwYXNzd29yZDp7XHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6dHJ1ZSxcclxuICAgICAgICBtaW5MZW5ndGg6NSxcclxuICAgIH0sXHJcbiAgICBwb3N0czpbe3R5cGU6bW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQscmVmOlwiUG9zdFwifV1cclxufSk7XHJcblxyXG5jb25zdCBVc2Vycz1uZXcgbW9uZ29vc2UubW9kZWwoJ1VzZXInLHVzZXJTY2hlbWEpO1xyXG5tb2R1bGUuZXhwb3J0cz1Vc2VyczsiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFBZ0M7QUFFaEMsTUFBTUEsVUFBVSxHQUFDLElBQUlDLGlCQUFRLENBQUNDLE1BQU0sQ0FBQztFQUNqQ0MsSUFBSSxFQUFDO0lBQ0RDLElBQUksRUFBQ0MsTUFBTTtJQUNYQyxRQUFRLEVBQUM7RUFDYixDQUFDO0VBQ0RDLEtBQUssRUFBQztJQUNGSCxJQUFJLEVBQUNDLE1BQU07SUFDWEMsUUFBUSxFQUFDLElBQUk7SUFDYkUsTUFBTSxFQUFDO0VBQ1gsQ0FBQztFQUNEQyxRQUFRLEVBQUM7SUFDTEwsSUFBSSxFQUFDQyxNQUFNO0lBQ1hDLFFBQVEsRUFBQyxJQUFJO0lBQ2JJLFNBQVMsRUFBQztFQUNkLENBQUM7RUFDREMsS0FBSyxFQUFDLENBQUM7SUFBQ1AsSUFBSSxFQUFDSCxpQkFBUSxDQUFDVyxLQUFLLENBQUNDLFFBQVE7SUFBQ0MsR0FBRyxFQUFDO0VBQU0sQ0FBQztBQUNwRCxDQUFDLENBQUM7QUFFRixNQUFNQyxLQUFLLEdBQUMsSUFBSWQsaUJBQVEsQ0FBQ2UsS0FBSyxDQUFDLE1BQU0sRUFBQ2hCLFVBQVUsQ0FBQztBQUNqRGlCLE1BQU0sQ0FBQ0MsT0FBTyxHQUFDSCxLQUFLIn0=","map":{"version":3,"names":["userSchema","mongoose","Schema","name","type","String","required","email","unique","password","minLength","posts","Types","ObjectId","ref","Users","model","module","exports"],"sourceRoot":"D:\\Entire Mern Stack Project github\\MERN-Travel-Diaries-backend\\starting-app\\backend\\models\\","sources":["User.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst userSchema=new mongoose.Schema({\r\n    name:{\r\n        type:String,\r\n        required:true,\r\n    },\r\n    email:{\r\n        type:String,\r\n        required:true,\r\n        unique:true,\r\n    },\r\n    password:{\r\n        type:String,\r\n        required:true,\r\n        minLength:5,\r\n    },\r\n    posts:[{type:mongoose.Types.ObjectId,ref:\"Post\"}]\r\n});\r\n\r\nconst Users=new mongoose.model('User',userSchema);\r\nmodule.exports=Users;"],"mappings":";;AAAA;AAAgC;AAEhC,MAAMA,UAAU,GAAC,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACjCC,IAAI,EAAC;IACDC,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC;EACb,CAAC;EACDC,KAAK,EAAC;IACFH,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,IAAI;IACbE,MAAM,EAAC;EACX,CAAC;EACDC,QAAQ,EAAC;IACLL,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,IAAI;IACbI,SAAS,EAAC;EACd,CAAC;EACDC,KAAK,EAAC,CAAC;IAACP,IAAI,EAACH,iBAAQ,CAACW,KAAK,CAACC,QAAQ;IAACC,GAAG,EAAC;EAAM,CAAC;AACpD,CAAC,CAAC;AAEF,MAAMC,KAAK,GAAC,IAAId,iBAAQ,CAACe,KAAK,CAAC,MAAM,EAAChB,UAAU,CAAC;AACjDiB,MAAM,CAACC,OAAO,GAACH,KAAK"}},"mtime":1674823316472},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\routing\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"filename\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\routing\\\\post-router.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _postControllers = require(\"../controllers/post-controllers\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst postRouter = (0, _express.default)();\npostRouter.get(\"/\", _postControllers.getAllPosts);\npostRouter.get(\"/:id\", _postControllers.getPostWithID);\npostRouter.post(\"/\", _postControllers.addAPost);\npostRouter.put(\"/:id\", _postControllers.updatePost);\npostRouter.delete(\"/:id\", _postControllers.deletePost);\nmodule.exports = postRouter;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwb3N0Um91dGVyIiwiUm91dGVyIiwiZ2V0IiwiZ2V0QWxsUG9zdHMiLCJnZXRQb3N0V2l0aElEIiwicG9zdCIsImFkZEFQb3N0IiwicHV0IiwidXBkYXRlUG9zdCIsImRlbGV0ZSIsImRlbGV0ZVBvc3QiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcRW50aXJlIE1lcm4gU3RhY2sgUHJvamVjdCBnaXRodWJcXE1FUk4tVHJhdmVsLURpYXJpZXMtYmFja2VuZFxcc3RhcnRpbmctYXBwXFxiYWNrZW5kXFxyb3V0aW5nXFwiLCJzb3VyY2VzIjpbInBvc3Qtcm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSb3V0ZXIgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7Z2V0QWxsUG9zdHMsYWRkQVBvc3QsIGdldFBvc3RXaXRoSUQsIHVwZGF0ZVBvc3QsZGVsZXRlUG9zdH0gZnJvbSAnLi4vY29udHJvbGxlcnMvcG9zdC1jb250cm9sbGVycydcclxuXHJcbmNvbnN0IHBvc3RSb3V0ZXI9Um91dGVyKCk7XHJcblxyXG5wb3N0Um91dGVyLmdldChcIi9cIixnZXRBbGxQb3N0cyk7XHJcbnBvc3RSb3V0ZXIuZ2V0KFwiLzppZFwiLGdldFBvc3RXaXRoSUQpO1xyXG5wb3N0Um91dGVyLnBvc3QoXCIvXCIsYWRkQVBvc3QpO1xyXG5wb3N0Um91dGVyLnB1dChcIi86aWRcIix1cGRhdGVQb3N0KTtcclxucG9zdFJvdXRlci5kZWxldGUoXCIvOmlkXCIsZGVsZXRlUG9zdCk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cz1wb3N0Um91dGVyO1xyXG5cclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFBMEc7QUFFMUcsTUFBTUEsVUFBVSxHQUFDLElBQUFDLGdCQUFNLEdBQUU7QUFFekJELFVBQVUsQ0FBQ0UsR0FBRyxDQUFDLEdBQUcsRUFBQ0MsNEJBQVcsQ0FBQztBQUMvQkgsVUFBVSxDQUFDRSxHQUFHLENBQUMsTUFBTSxFQUFDRSw4QkFBYSxDQUFDO0FBQ3BDSixVQUFVLENBQUNLLElBQUksQ0FBQyxHQUFHLEVBQUNDLHlCQUFRLENBQUM7QUFDN0JOLFVBQVUsQ0FBQ08sR0FBRyxDQUFDLE1BQU0sRUFBQ0MsMkJBQVUsQ0FBQztBQUNqQ1IsVUFBVSxDQUFDUyxNQUFNLENBQUMsTUFBTSxFQUFDQywyQkFBVSxDQUFDO0FBRXBDQyxNQUFNLENBQUNDLE9BQU8sR0FBQ1osVUFBVSJ9","map":{"version":3,"names":["postRouter","Router","get","getAllPosts","getPostWithID","post","addAPost","put","updatePost","delete","deletePost","module","exports"],"sourceRoot":"D:\\Entire Mern Stack Project github\\MERN-Travel-Diaries-backend\\starting-app\\backend\\routing\\","sources":["post-router.js"],"sourcesContent":["import Router from 'express';\r\nimport {getAllPosts,addAPost, getPostWithID, updatePost,deletePost} from '../controllers/post-controllers'\r\n\r\nconst postRouter=Router();\r\n\r\npostRouter.get(\"/\",getAllPosts);\r\npostRouter.get(\"/:id\",getPostWithID);\r\npostRouter.post(\"/\",addAPost);\r\npostRouter.put(\"/:id\",updatePost);\r\npostRouter.delete(\"/:id\",deletePost);\r\n\r\nmodule.exports=postRouter;\r\n\r\n"],"mappings":";;AAAA;AACA;AAA0G;AAE1G,MAAMA,UAAU,GAAC,IAAAC,gBAAM,GAAE;AAEzBD,UAAU,CAACE,GAAG,CAAC,GAAG,EAACC,4BAAW,CAAC;AAC/BH,UAAU,CAACE,GAAG,CAAC,MAAM,EAACE,8BAAa,CAAC;AACpCJ,UAAU,CAACK,IAAI,CAAC,GAAG,EAACC,yBAAQ,CAAC;AAC7BN,UAAU,CAACO,GAAG,CAAC,MAAM,EAACC,2BAAU,CAAC;AACjCR,UAAU,CAACS,MAAM,CAAC,MAAM,EAACC,2BAAU,CAAC;AAEpCC,MAAM,CAACC,OAAO,GAACZ,UAAU"}},"mtime":1675515753185},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"filename\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\controllers\\\\post-controllers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _Post = _interopRequireDefault(require(\"../models/Post\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _User = _interopRequireDefault(require(\"../models/User\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getAllPosts = async (req, res) => {\n  try {\n    let posts = await _Post.default.find().populate(\"user\");\n    return res.status(200).json({\n      posts\n    });\n  } catch (err) {\n    return console.log(err);\n  }\n};\nconst addAPost = async (req, res) => {\n  try {\n    const {\n      title,\n      description,\n      image,\n      location,\n      date,\n      user\n    } = req.body;\n    if (!title || !description || !image || !location || !date || !user || title.trim().length === 0 || description.trim().length === 0 || image.trim().length === 0 || location.trim().length === 0 || date.trim().length === 0 || user.trim().length === 0) {\n      return res.status(422).json({\n        message: \"Invalid data\"\n      });\n    }\n    let existingUser = await _User.default.findById(user);\n    if (!existingUser) {\n      return res.status(404).json({\n        message: \"No such user found\"\n      });\n    }\n    let post = new _Post.default({\n      title,\n      description,\n      image,\n      location,\n      date,\n      user\n    });\n    const session = await _mongoose.default.startSession();\n    session.startTransaction();\n    existingUser.posts.push(post);\n    await existingUser.save({\n      session\n    });\n    post = await post.save({\n      session\n    });\n    session.commitTransaction();\n    return res.status(200).json({\n      post\n    });\n  } catch (err) {\n    console.log(err);\n    return res.status(406).json({\n      message: \"Unexpected error occured\"\n    });\n  }\n};\nconst getPostWithID = async (req, res) => {\n  const _id = req.params.id;\n  let post;\n  try {\n    post = await _Post.default.findById(_id);\n  } catch (err) {\n    return console.log(err);\n  }\n  if (!post) {\n    return res.status(404).json({\n      message: \"No post found\"\n    });\n  }\n  return res.status(200).json({\n    post\n  });\n};\nconst updatePost = async (req, res) => {\n  const id = req.params.id;\n  const {\n    title,\n    description,\n    image,\n    location,\n    date\n  } = req.body;\n  if (!title || !description || !image || !location || !date || title.trim().length === 0 || description.trim().length === 0 || image.trim().length === 0 || location.trim().length === 0 || date.trim().length === 0) {\n    return res.status(422).json({\n      message: \"Invalid data\"\n    });\n  }\n  let post;\n  try {\n    post = await _Post.default.findByIdAndUpdate(id, {\n      title,\n      description,\n      image,\n      location,\n      date\n    });\n    if (!post) {\n      return res.status(500).json({\n        message: \"Unable to update\"\n      });\n    }\n    return res.status(200).json({\n      message: \"updataed succesfully\"\n    });\n  } catch (err) {\n    console.log(err);\n    return res.status(406).json({\n      message: \"Unexpected error occured\"\n    });\n  }\n};\nconst deletePost = async (req, res) => {\n  try {\n    let post;\n    const id = req.params.id;\n    const session = await _mongoose.default.startSession();\n    session.startTransaction();\n    post = await _Post.default.findById(id).populate(\"user\");\n    let ind = post.user.posts.indexOf(id);\n    post.user.posts = post.user.posts.slice(0, ind).concat(post.user.posts.slice(ind + 1));\n    await post.user.save({\n      session\n    });\n    post = await _Post.default.findByIdAndRemove(id);\n    session.commitTransaction();\n    return res.status(200).json({\n      message: \"deleted succesfully\"\n    });\n  } catch (err) {\n    console.log(err);\n    return res.status(406).json({\n      message: \"couldn't delete the post\"\n    });\n  }\n};\nmodule.exports = {\n  getAllPosts,\n  addAPost,\n  getPostWithID,\n  updatePost,\n  deletePost\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRBbGxQb3N0cyIsInJlcSIsInJlcyIsInBvc3RzIiwiUG9zdHMiLCJmaW5kIiwicG9wdWxhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImFkZEFQb3N0IiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImltYWdlIiwibG9jYXRpb24iLCJkYXRlIiwidXNlciIsImJvZHkiLCJ0cmltIiwibGVuZ3RoIiwibWVzc2FnZSIsImV4aXN0aW5nVXNlciIsIlVzZXJzIiwiZmluZEJ5SWQiLCJwb3N0Iiwic2Vzc2lvbiIsIm1vbmdvb3NlIiwic3RhcnRTZXNzaW9uIiwic3RhcnRUcmFuc2FjdGlvbiIsInB1c2giLCJzYXZlIiwiY29tbWl0VHJhbnNhY3Rpb24iLCJnZXRQb3N0V2l0aElEIiwiX2lkIiwicGFyYW1zIiwiaWQiLCJ1cGRhdGVQb3N0IiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJkZWxldGVQb3N0IiwiaW5kIiwiaW5kZXhPZiIsInNsaWNlIiwiY29uY2F0IiwiZmluZEJ5SWRBbmRSZW1vdmUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcRW50aXJlIE1lcm4gU3RhY2sgUHJvamVjdCBnaXRodWJcXE1FUk4tVHJhdmVsLURpYXJpZXMtYmFja2VuZFxcc3RhcnRpbmctYXBwXFxiYWNrZW5kXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJwb3N0LWNvbnRyb2xsZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQb3N0cyBmcm9tICcuLi9tb2RlbHMvUG9zdCc7XHJcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcbmltcG9ydCBVc2VycyBmcm9tICcuLi9tb2RlbHMvVXNlcidcclxuXHJcbmNvbnN0IGdldEFsbFBvc3RzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCBwb3N0cyA9IGF3YWl0IFBvc3RzLmZpbmQoKS5wb3B1bGF0ZShcInVzZXJcIik7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgcG9zdHMgfSk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyKTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgYWRkQVBvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgdGl0bGUsIGRlc2NyaXB0aW9uLCBpbWFnZSwgbG9jYXRpb24sIGRhdGUsIHVzZXIgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICBpZiAoIXRpdGxlIHx8ICFkZXNjcmlwdGlvbiB8fCAhaW1hZ2UgfHwgIWxvY2F0aW9uIHx8ICFkYXRlIHx8ICF1c2VyIHx8IHRpdGxlLnRyaW0oKS5sZW5ndGggPT09IDAgfHwgZGVzY3JpcHRpb24udHJpbSgpLmxlbmd0aCA9PT0gMCB8fCBpbWFnZS50cmltKCkubGVuZ3RoID09PSAwIHx8IGxvY2F0aW9uLnRyaW0oKS5sZW5ndGggPT09IDAgfHwgZGF0ZS50cmltKCkubGVuZ3RoID09PSAwIHx8IHVzZXIudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MjIpLmpzb24oeyBtZXNzYWdlOiBcIkludmFsaWQgZGF0YVwiIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGV4aXN0aW5nVXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeUlkKHVzZXIpO1xyXG4gICAgICAgIGlmICghZXhpc3RpbmdVc2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6IFwiTm8gc3VjaCB1c2VyIGZvdW5kXCIgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcG9zdCA9IG5ldyBQb3N0cyh7IHRpdGxlLCBkZXNjcmlwdGlvbiwgaW1hZ2UsIGxvY2F0aW9uLCBkYXRlLCB1c2VyIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgbW9uZ29vc2Uuc3RhcnRTZXNzaW9uKCk7XHJcblxyXG4gICAgICAgIHNlc3Npb24uc3RhcnRUcmFuc2FjdGlvbigpO1xyXG4gICAgICAgIGV4aXN0aW5nVXNlci5wb3N0cy5wdXNoKHBvc3QpO1xyXG4gICAgICAgIGF3YWl0IGV4aXN0aW5nVXNlci5zYXZlKHsgc2Vzc2lvbiB9KTtcclxuICAgICAgICBwb3N0ID0gYXdhaXQgcG9zdC5zYXZlKHsgc2Vzc2lvbiB9KTtcclxuICAgICAgICBzZXNzaW9uLmNvbW1pdFRyYW5zYWN0aW9uKCk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHBvc3QgfSk7XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDYpLmpzb24oeyBtZXNzYWdlOiBcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJlZFwiIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBnZXRQb3N0V2l0aElEID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBfaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgbGV0IHBvc3Q7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHBvc3QgPSBhd2FpdCBQb3N0cy5maW5kQnlJZChfaWQpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFwb3N0KSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogXCJObyBwb3N0IGZvdW5kXCIgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBwb3N0IH0pO1xyXG59XHJcblxyXG5jb25zdCB1cGRhdGVQb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBjb25zdCB7IHRpdGxlLCBkZXNjcmlwdGlvbiwgaW1hZ2UsIGxvY2F0aW9uLCBkYXRlIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBpZiAoIXRpdGxlIHx8ICFkZXNjcmlwdGlvbiB8fCAhaW1hZ2UgfHwgIWxvY2F0aW9uIHx8ICFkYXRlIHx8IHRpdGxlLnRyaW0oKS5sZW5ndGggPT09IDAgfHwgZGVzY3JpcHRpb24udHJpbSgpLmxlbmd0aCA9PT0gMCB8fCBpbWFnZS50cmltKCkubGVuZ3RoID09PSAwIHx8IGxvY2F0aW9uLnRyaW0oKS5sZW5ndGggPT09IDAgfHwgZGF0ZS50cmltKCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDIyKS5qc29uKHsgbWVzc2FnZTogXCJJbnZhbGlkIGRhdGFcIiB9KTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcG9zdDtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcG9zdCA9IGF3YWl0IFBvc3RzLmZpbmRCeUlkQW5kVXBkYXRlKGlkLCB7IHRpdGxlLCBkZXNjcmlwdGlvbiwgaW1hZ2UsIGxvY2F0aW9uLCBkYXRlIH0pO1xyXG4gICAgICAgIGlmICghcG9zdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIlVuYWJsZSB0byB1cGRhdGVcIiB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogXCJ1cGRhdGFlZCBzdWNjZXNmdWxseVwiIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDYpLmpzb24oeyBtZXNzYWdlOiBcIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJlZFwiIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmNvbnN0IGRlbGV0ZVBvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IHBvc3Q7XHJcbiAgICAgICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xyXG5cclxuICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgbW9uZ29vc2Uuc3RhcnRTZXNzaW9uKCk7XHJcbiAgICAgICAgc2Vzc2lvbi5zdGFydFRyYW5zYWN0aW9uKCk7XHJcbiAgICAgICAgcG9zdCA9IGF3YWl0IFBvc3RzLmZpbmRCeUlkKGlkKS5wb3B1bGF0ZShcInVzZXJcIik7XHJcbiAgICAgICAgbGV0IGluZCA9IHBvc3QudXNlci5wb3N0cy5pbmRleE9mKGlkKTtcclxuICAgICAgICBwb3N0LnVzZXIucG9zdHMgPSBwb3N0LnVzZXIucG9zdHMuc2xpY2UoMCwgaW5kKS5jb25jYXQocG9zdC51c2VyLnBvc3RzLnNsaWNlKGluZCArIDEpKTtcclxuICAgICAgICBhd2FpdCBwb3N0LnVzZXIuc2F2ZSh7IHNlc3Npb24gfSk7XHJcbiAgICAgICAgcG9zdCA9IGF3YWl0IFBvc3RzLmZpbmRCeUlkQW5kUmVtb3ZlKGlkKTtcclxuICAgICAgICBzZXNzaW9uLmNvbW1pdFRyYW5zYWN0aW9uKCk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6IFwiZGVsZXRlZCBzdWNjZXNmdWxseVwiIH0pO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA2KS5qc29uKHttZXNzYWdlOlwiY291bGRuJ3QgZGVsZXRlIHRoZSBwb3N0XCJ9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHsgZ2V0QWxsUG9zdHMsIGFkZEFQb3N0LCBnZXRQb3N0V2l0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","map":{"version":3,"names":["getAllPosts","req","res","posts","Posts","find","populate","status","json","err","console","log","addAPost","title","description","image","location","date","user","body","trim","length","message","existingUser","Users","findById","post","session","mongoose","startSession","startTransaction","push","save","commitTransaction","getPostWithID","_id","params","id","updatePost","findByIdAndUpdate","deletePost","ind","indexOf","slice","concat","findByIdAndRemove","module","exports"],"sourceRoot":"D:\\Entire Mern Stack Project github\\MERN-Travel-Diaries-backend\\starting-app\\backend\\controllers\\","sources":["post-controllers.js"],"sourcesContent":["import Posts from '../models/Post';\r\nimport mongoose from 'mongoose';\r\nimport Users from '../models/User'\r\n\r\nconst getAllPosts = async (req, res) => {\r\n    try {\r\n        let posts = await Posts.find().populate(\"user\");\r\n        return res.status(200).json({ posts });\r\n    } catch (err) {\r\n        return console.log(err);\r\n    }\r\n}\r\n\r\nconst addAPost = async (req, res) => {\r\n\r\n    try {\r\n        const { title, description, image, location, date, user } = req.body;\r\n\r\n        if (!title || !description || !image || !location || !date || !user || title.trim().length === 0 || description.trim().length === 0 || image.trim().length === 0 || location.trim().length === 0 || date.trim().length === 0 || user.trim().length === 0) {\r\n            return res.status(422).json({ message: \"Invalid data\" });\r\n        }\r\n\r\n        let existingUser = await Users.findById(user);\r\n        if (!existingUser) {\r\n            return res.status(404).json({ message: \"No such user found\" });\r\n        }\r\n\r\n        let post = new Posts({ title, description, image, location, date, user });\r\n\r\n        const session = await mongoose.startSession();\r\n\r\n        session.startTransaction();\r\n        existingUser.posts.push(post);\r\n        await existingUser.save({ session });\r\n        post = await post.save({ session });\r\n        session.commitTransaction();\r\n\r\n        return res.status(200).json({ post });\r\n\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(406).json({ message: \"Unexpected error occured\" });\r\n    }\r\n}\r\n\r\nconst getPostWithID = async (req, res) => {\r\n    const _id = req.params.id;\r\n    let post;\r\n    try {\r\n        post = await Posts.findById(_id);\r\n    } catch (err) {\r\n        return console.log(err);\r\n    }\r\n\r\n    if (!post) {\r\n        return res.status(404).json({ message: \"No post found\" });\r\n    }\r\n    return res.status(200).json({ post });\r\n}\r\n\r\nconst updatePost = async (req, res) => {\r\n    const id = req.params.id;\r\n    const { title, description, image, location, date } = req.body;\r\n\r\n    if (!title || !description || !image || !location || !date || title.trim().length === 0 || description.trim().length === 0 || image.trim().length === 0 || location.trim().length === 0 || date.trim().length === 0) {\r\n        return res.status(422).json({ message: \"Invalid data\" });\r\n    }\r\n\r\n    let post;\r\n    try {\r\n        post = await Posts.findByIdAndUpdate(id, { title, description, image, location, date });\r\n        if (!post) {\r\n            return res.status(500).json({ message: \"Unable to update\" });\r\n        }\r\n        return res.status(200).json({ message: \"updataed succesfully\" });\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(406).json({ message: \"Unexpected error occured\" });\r\n    }\r\n\r\n\r\n}\r\n\r\nconst deletePost = async (req, res) => {\r\n    try {\r\n        let post;\r\n        const id = req.params.id;\r\n\r\n        const session = await mongoose.startSession();\r\n        session.startTransaction();\r\n        post = await Posts.findById(id).populate(\"user\");\r\n        let ind = post.user.posts.indexOf(id);\r\n        post.user.posts = post.user.posts.slice(0, ind).concat(post.user.posts.slice(ind + 1));\r\n        await post.user.save({ session });\r\n        post = await Posts.findByIdAndRemove(id);\r\n        session.commitTransaction();\r\n\r\n        return res.status(200).json({ message: \"deleted succesfully\" });\r\n\r\n    } catch (err) {\r\n        console.log(err);\r\n        return res.status(406).json({message:\"couldn't delete the post\"});\r\n    }\r\n\r\n}\r\n\r\n\r\nmodule.exports = { getAllPosts, addAPost, getPostWithID, updatePost, deletePost };"],"mappings":"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"}},"mtime":1675518009824},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"filename\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\\\\models\\\\Post.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Entire Mern Stack Project github\\\\MERN-Travel-Diaries-backend\\\\starting-app\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst postSchema = new _mongoose.default.Schema({\n  title: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  location: {\n    type: String,\n    required: true\n  },\n  date: {\n    type: String,\n    required: true\n  },\n  user: {\n    type: _mongoose.default.Types.ObjectId,\n    ref: \"User\",\n    required: true\n  }\n});\nconst Posts = new _mongoose.default.model(\"Post\", postSchema);\nmodule.exports = Posts;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwb3N0U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImRlc2NyaXB0aW9uIiwiaW1hZ2UiLCJsb2NhdGlvbiIsImRhdGUiLCJ1c2VyIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsIlBvc3RzIiwibW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcRW50aXJlIE1lcm4gU3RhY2sgUHJvamVjdCBnaXRodWJcXE1FUk4tVHJhdmVsLURpYXJpZXMtYmFja2VuZFxcc3RhcnRpbmctYXBwXFxiYWNrZW5kXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiUG9zdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBwb3N0U2NoZW1hPW5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gICAgdGl0bGU6e1xyXG4gICAgICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOnRydWUsXHJcbiAgICB9LFxyXG4gICAgZGVzY3JpcHRpb246e1xyXG4gICAgICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOnRydWUsXHJcbiAgICB9LFxyXG4gICAgaW1hZ2U6e1xyXG4gICAgICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOnRydWUsXHJcbiAgICB9LFxyXG4gICAgbG9jYXRpb246e1xyXG4gICAgICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOnRydWUsXHJcbiAgICB9LFxyXG4gICAgZGF0ZTp7XHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6dHJ1ZSxcclxuICAgIH0sXHJcbiAgICB1c2VyOntcclxuICAgICAgICB0eXBlOm1vbmdvb3NlLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICAgIHJlZjpcIlVzZXJcIixcclxuICAgICAgICByZXF1aXJlZDp0cnVlLFxyXG4gICAgfVxyXG59KTtcclxuXHJcbmNvbnN0IFBvc3RzPW5ldyBtb25nb29zZS5tb2RlbChcIlBvc3RcIixwb3N0U2NoZW1hKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzPVBvc3RzOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUFnQztBQUVoQyxNQUFNQSxVQUFVLEdBQUMsSUFBSUMsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDO0VBQ2pDQyxLQUFLLEVBQUM7SUFDRkMsSUFBSSxFQUFDQyxNQUFNO0lBQ1hDLFFBQVEsRUFBQztFQUNiLENBQUM7RUFDREMsV0FBVyxFQUFDO0lBQ1JILElBQUksRUFBQ0MsTUFBTTtJQUNYQyxRQUFRLEVBQUM7RUFDYixDQUFDO0VBQ0RFLEtBQUssRUFBQztJQUNGSixJQUFJLEVBQUNDLE1BQU07SUFDWEMsUUFBUSxFQUFDO0VBQ2IsQ0FBQztFQUNERyxRQUFRLEVBQUM7SUFDTEwsSUFBSSxFQUFDQyxNQUFNO0lBQ1hDLFFBQVEsRUFBQztFQUNiLENBQUM7RUFDREksSUFBSSxFQUFDO0lBQ0ROLElBQUksRUFBQ0MsTUFBTTtJQUNYQyxRQUFRLEVBQUM7RUFDYixDQUFDO0VBQ0RLLElBQUksRUFBQztJQUNEUCxJQUFJLEVBQUNILGlCQUFRLENBQUNXLEtBQUssQ0FBQ0MsUUFBUTtJQUM1QkMsR0FBRyxFQUFDLE1BQU07SUFDVlIsUUFBUSxFQUFDO0VBQ2I7QUFDSixDQUFDLENBQUM7QUFFRixNQUFNUyxLQUFLLEdBQUMsSUFBSWQsaUJBQVEsQ0FBQ2UsS0FBSyxDQUFDLE1BQU0sRUFBQ2hCLFVBQVUsQ0FBQztBQUVqRGlCLE1BQU0sQ0FBQ0MsT0FBTyxHQUFDSCxLQUFLIn0=","map":{"version":3,"names":["postSchema","mongoose","Schema","title","type","String","required","description","image","location","date","user","Types","ObjectId","ref","Posts","model","module","exports"],"sourceRoot":"D:\\Entire Mern Stack Project github\\MERN-Travel-Diaries-backend\\starting-app\\backend\\models\\","sources":["Post.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst postSchema=new mongoose.Schema({\r\n    title:{\r\n        type:String,\r\n        required:true,\r\n    },\r\n    description:{\r\n        type:String,\r\n        required:true,\r\n    },\r\n    image:{\r\n        type:String,\r\n        required:true,\r\n    },\r\n    location:{\r\n        type:String,\r\n        required:true,\r\n    },\r\n    date:{\r\n        type:String,\r\n        required:true,\r\n    },\r\n    user:{\r\n        type:mongoose.Types.ObjectId,\r\n        ref:\"User\",\r\n        required:true,\r\n    }\r\n});\r\n\r\nconst Posts=new mongoose.model(\"Post\",postSchema);\r\n\r\nmodule.exports=Posts;"],"mappings":";;AAAA;AAAgC;AAEhC,MAAMA,UAAU,GAAC,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACjCC,KAAK,EAAC;IACFC,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC;EACb,CAAC;EACDC,WAAW,EAAC;IACRH,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC;EACb,CAAC;EACDE,KAAK,EAAC;IACFJ,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC;EACb,CAAC;EACDG,QAAQ,EAAC;IACLL,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC;EACb,CAAC;EACDI,IAAI,EAAC;IACDN,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC;EACb,CAAC;EACDK,IAAI,EAAC;IACDP,IAAI,EAACH,iBAAQ,CAACW,KAAK,CAACC,QAAQ;IAC5BC,GAAG,EAAC,MAAM;IACVR,QAAQ,EAAC;EACb;AACJ,CAAC,CAAC;AAEF,MAAMS,KAAK,GAAC,IAAId,iBAAQ,CAACe,KAAK,CAAC,MAAM,EAAChB,UAAU,CAAC;AAEjDiB,MAAM,CAACC,OAAO,GAACH,KAAK"}},"mtime":1675187849162}}